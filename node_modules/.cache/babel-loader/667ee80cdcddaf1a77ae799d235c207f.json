{"ast":null,"code":"/*!\n  Copyright (c) 2016 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/react-select\n*/\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactInputAutosize = require('react-input-autosize');\n\nvar _reactInputAutosize2 = _interopRequireDefault(_reactInputAutosize);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _utilsDefaultArrowRenderer = require('./utils/defaultArrowRenderer');\n\nvar _utilsDefaultArrowRenderer2 = _interopRequireDefault(_utilsDefaultArrowRenderer);\n\nvar _utilsDefaultFilterOptions = require('./utils/defaultFilterOptions');\n\nvar _utilsDefaultFilterOptions2 = _interopRequireDefault(_utilsDefaultFilterOptions);\n\nvar _utilsDefaultMenuRenderer = require('./utils/defaultMenuRenderer');\n\nvar _utilsDefaultMenuRenderer2 = _interopRequireDefault(_utilsDefaultMenuRenderer);\n\nvar _utilsDefaultClearRenderer = require('./utils/defaultClearRenderer');\n\nvar _utilsDefaultClearRenderer2 = _interopRequireDefault(_utilsDefaultClearRenderer);\n\nvar _utilsStripDiacritics = require('./utils/stripDiacritics');\n\nvar _utilsStripDiacritics2 = _interopRequireDefault(_utilsStripDiacritics);\n\nvar _Async = require('./Async');\n\nvar _Async2 = _interopRequireDefault(_Async);\n\nvar _AsyncCreatable = require('./AsyncCreatable');\n\nvar _AsyncCreatable2 = _interopRequireDefault(_AsyncCreatable);\n\nvar _Creatable = require('./Creatable');\n\nvar _Creatable2 = _interopRequireDefault(_Creatable);\n\nvar _Dropdown = require('./Dropdown');\n\nvar _Dropdown2 = _interopRequireDefault(_Dropdown);\n\nvar _Option = require('./Option');\n\nvar _Option2 = _interopRequireDefault(_Option);\n\nvar _OptionGroup = require('./OptionGroup');\n\nvar _OptionGroup2 = _interopRequireDefault(_OptionGroup);\n\nvar _Value = require('./Value');\n\nvar _Value2 = _interopRequireDefault(_Value);\n\nfunction clone(obj) {\n  var copy = {};\n\n  for (var attr in obj) {\n    if (obj.hasOwnProperty(attr)) {\n      copy[attr] = obj[attr];\n    }\n\n    ;\n  }\n\n  return copy;\n}\n\nfunction isGroup(option) {\n  return option && Array.isArray(option.options);\n}\n\nfunction stringifyValue(value) {\n  var valueType = typeof value;\n\n  if (valueType === 'string') {\n    return value;\n  } else if (valueType === 'object') {\n    return JSON.stringify(value);\n  } else if (valueType === 'number' || valueType === 'boolean') {\n    return String(value);\n  } else {\n    return '';\n  }\n}\n\nvar stringOrNode = _react2['default'].PropTypes.oneOfType([_react2['default'].PropTypes.string, _react2['default'].PropTypes.node]);\n\nvar instanceId = 1;\nvar invalidOptions = {};\n\nvar Select = _react2['default'].createClass({\n  displayName: 'Select',\n  propTypes: {\n    addLabelText: _react2['default'].PropTypes.string,\n    // placeholder displayed when you want to add a label on a multi-value input\n    'aria-describedby': _react2['default'].PropTypes.string,\n    // HTML ID(s) of element(s) that should be used to describe this input (for assistive tech)\n    'aria-label': _react2['default'].PropTypes.string,\n    // Aria label (for assistive tech)\n    'aria-labelledby': _react2['default'].PropTypes.string,\n    // HTML ID of an element that should be used as the label (for assistive tech)\n    arrowRenderer: _react2['default'].PropTypes.func,\n    // Create drop-down caret element\n    autoBlur: _react2['default'].PropTypes.bool,\n    // automatically blur the component when an option is selected\n    autofocus: _react2['default'].PropTypes.bool,\n    // autofocus the component on mount\n    autosize: _react2['default'].PropTypes.bool,\n    // whether to enable autosizing or not\n    backspaceRemoves: _react2['default'].PropTypes.bool,\n    // whether backspace removes an item if there is no text input\n    backspaceToRemoveMessage: _react2['default'].PropTypes.string,\n    // Message to use for screenreaders to press backspace to remove the current item - {label} is replaced with the item label\n    className: _react2['default'].PropTypes.string,\n    // className for the outer element\n    clearAllText: stringOrNode,\n    // title for the \"clear\" control when multi: true\n    clearRenderer: _react2['default'].PropTypes.func,\n    // create clearable x element\n    clearValueText: stringOrNode,\n    // title for the \"clear\" control\n    clearable: _react2['default'].PropTypes.bool,\n    // should it be possible to reset value\n    deleteRemoves: _react2['default'].PropTypes.bool,\n    // whether backspace removes an item if there is no text input\n    delimiter: _react2['default'].PropTypes.string,\n    // delimiter to use to join multiple values for the hidden field value\n    disabled: _react2['default'].PropTypes.bool,\n    // whether the Select is disabled or not\n    dropdownComponent: _react2['default'].PropTypes.func,\n    // dropdown component to render the menu in\n    escapeClearsValue: _react2['default'].PropTypes.bool,\n    // whether escape clears the value when the menu is closed\n    filterOption: _react2['default'].PropTypes.func,\n    // method to filter a single option (option, filterString)\n    filterOptions: _react2['default'].PropTypes.any,\n    // boolean to enable default filtering or function to filter the options array ([options], filterString, [values])\n    ignoreAccents: _react2['default'].PropTypes.bool,\n    // whether to strip diacritics when filtering\n    ignoreCase: _react2['default'].PropTypes.bool,\n    // whether to perform case-insensitive filtering\n    inputProps: _react2['default'].PropTypes.object,\n    // custom attributes for the Input\n    inputRenderer: _react2['default'].PropTypes.func,\n    // returns a custom input component\n    instanceId: _react2['default'].PropTypes.string,\n    // set the components instanceId\n    isLoading: _react2['default'].PropTypes.bool,\n    // whether the Select is loading externally or not (such as options being loaded)\n    isOpen: _react2['default'].PropTypes.bool,\n    // whether the Select dropdown menu is open or not\n    joinValues: _react2['default'].PropTypes.bool,\n    // joins multiple values into a single form field with the delimiter (legacy mode)\n    labelKey: _react2['default'].PropTypes.string,\n    // path of the label value in option objects\n    matchPos: _react2['default'].PropTypes.string,\n    // (any|start) match the start or entire string when filtering\n    matchProp: _react2['default'].PropTypes.string,\n    // (any|label|value) which option property to filter on\n    menuBuffer: _react2['default'].PropTypes.number,\n    // optional buffer (in px) between the bottom of the viewport and the bottom of the menu\n    menuContainerStyle: _react2['default'].PropTypes.object,\n    // optional style to apply to the menu container\n    menuRenderer: _react2['default'].PropTypes.func,\n    // renders a custom menu with options\n    menuStyle: _react2['default'].PropTypes.object,\n    // optional style to apply to the menu\n    multi: _react2['default'].PropTypes.bool,\n    // multi-value input\n    name: _react2['default'].PropTypes.string,\n    // generates a hidden <input /> tag with this field name for html forms\n    noResultsText: stringOrNode,\n    // placeholder displayed when there are no matching search results\n    onBlur: _react2['default'].PropTypes.func,\n    // onBlur handler: function (event) {}\n    onBlurResetsInput: _react2['default'].PropTypes.bool,\n    // whether input is cleared on blur\n    onChange: _react2['default'].PropTypes.func,\n    // onChange handler: function (newValue) {}\n    onClose: _react2['default'].PropTypes.func,\n    // fires when the menu is closed\n    onCloseResetsInput: _react2['default'].PropTypes.bool,\n    // whether input is cleared when menu is closed through the arrow\n    onFocus: _react2['default'].PropTypes.func,\n    // onFocus handler: function (event) {}\n    onInputChange: _react2['default'].PropTypes.func,\n    // onInputChange handler: function (inputValue) {}\n    onInputKeyDown: _react2['default'].PropTypes.func,\n    // input keyDown handler: function (event) {}\n    onMenuScrollToBottom: _react2['default'].PropTypes.func,\n    // fires when the menu is scrolled to the bottom; can be used to paginate options\n    onOpen: _react2['default'].PropTypes.func,\n    // fires when the menu is opened\n    onValueClick: _react2['default'].PropTypes.func,\n    // onClick handler for value labels: function (value, event) {}\n    openAfterFocus: _react2['default'].PropTypes.bool,\n    // boolean to enable opening dropdown when focused\n    openOnFocus: _react2['default'].PropTypes.bool,\n    // always open options menu on focus\n    optionClassName: _react2['default'].PropTypes.string,\n    // additional class(es) to apply to the <Option /> elements\n    optionComponent: _react2['default'].PropTypes.func,\n    // option component to render in dropdown\n    optionGroupComponent: _react2['default'].PropTypes.func,\n    // option group component to render in dropdown\n    optionRenderer: _react2['default'].PropTypes.func,\n    // optionRenderer: function (option) {}\n    options: _react2['default'].PropTypes.array,\n    // array of options\n    pageSize: _react2['default'].PropTypes.number,\n    // number of entries to page when using page up/down keys\n    placeholder: stringOrNode,\n    // field placeholder, displayed when there's no value\n    renderInvalidValues: _react2['default'].PropTypes.bool,\n    // boolean to enable rendering values that do not match any options\n    required: _react2['default'].PropTypes.bool,\n    // applies HTML5 required attribute when needed\n    resetValue: _react2['default'].PropTypes.any,\n    // value to use when you clear the control\n    scrollMenuIntoView: _react2['default'].PropTypes.bool,\n    // boolean to enable the viewport to shift so that the full menu fully visible when engaged\n    searchable: _react2['default'].PropTypes.bool,\n    // whether to enable searching feature or not\n    simpleValue: _react2['default'].PropTypes.bool,\n    // pass the value to onChange as a simple value (legacy pre 1.0 mode), defaults to false\n    style: _react2['default'].PropTypes.object,\n    // optional style to apply to the control\n    tabIndex: _react2['default'].PropTypes.string,\n    // optional tab index of the control\n    tabSelectsValue: _react2['default'].PropTypes.bool,\n    // whether to treat tabbing out while focused to be value selection\n    value: _react2['default'].PropTypes.any,\n    // initial field value\n    valueComponent: _react2['default'].PropTypes.func,\n    // value component to render\n    valueKey: _react2['default'].PropTypes.string,\n    // path of the label value in option objects\n    valueRenderer: _react2['default'].PropTypes.func,\n    // valueRenderer: function (option) {}\n    wrapperStyle: _react2['default'].PropTypes.object\n  },\n  // optional style to apply to the component wrapper\n  statics: {\n    Async: _Async2['default'],\n    AsyncCreatable: _AsyncCreatable2['default'],\n    Creatable: _Creatable2['default']\n  },\n  getDefaultProps: function getDefaultProps() {\n    return {\n      addLabelText: 'Add \"{label}\"?',\n      arrowRenderer: _utilsDefaultArrowRenderer2['default'],\n      autosize: true,\n      backspaceRemoves: true,\n      backspaceToRemoveMessage: 'Press backspace to remove {label}',\n      clearable: true,\n      clearAllText: 'Clear all',\n      clearRenderer: _utilsDefaultClearRenderer2['default'],\n      clearValueText: 'Clear value',\n      deleteRemoves: true,\n      delimiter: ',',\n      disabled: false,\n      dropdownComponent: _Dropdown2['default'],\n      escapeClearsValue: true,\n      filterOptions: _utilsDefaultFilterOptions2['default'],\n      ignoreAccents: true,\n      ignoreCase: true,\n      inputProps: {},\n      isLoading: false,\n      joinValues: false,\n      labelKey: 'label',\n      matchPos: 'any',\n      matchProp: 'any',\n      menuBuffer: 0,\n      menuRenderer: _utilsDefaultMenuRenderer2['default'],\n      multi: false,\n      noResultsText: 'No results found',\n      onBlurResetsInput: true,\n      onCloseResetsInput: true,\n      openAfterFocus: false,\n      optionComponent: _Option2['default'],\n      optionGroupComponent: _OptionGroup2['default'],\n      pageSize: 5,\n      placeholder: 'Select...',\n      renderInvalidValues: false,\n      required: false,\n      scrollMenuIntoView: true,\n      searchable: true,\n      simpleValue: false,\n      tabSelectsValue: true,\n      valueComponent: _Value2['default'],\n      valueKey: 'value'\n    };\n  },\n  getInitialState: function getInitialState() {\n    return {\n      inputValue: '',\n      isFocused: false,\n      isOpen: this.props.isOpen != null ? this.props.isOpen : false,\n      isPseudoFocused: false,\n      required: false\n    };\n  },\n  componentWillMount: function componentWillMount() {\n    this._flatOptions = this.flattenOptions(this.props.options);\n    this._instancePrefix = 'react-select-' + (this.props.instanceId || ++instanceId) + '-';\n    var valueArray = this.getValueArray(this.props.value);\n\n    if (this.props.required) {\n      this.setState({\n        required: this.handleRequired(valueArray[0], this.props.multi)\n      });\n    }\n  },\n  componentDidMount: function componentDidMount() {\n    if (this.props.autofocus) {\n      this.focus();\n    }\n  },\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    if (nextProps.options !== this.props.options) {\n      this._flatOptions = this.flattenOptions(nextProps.options);\n    }\n\n    var valueArray = this.getValueArray(nextProps.value, nextProps);\n\n    if (!nextProps.isOpen && this.props.isOpen) {\n      this.closeMenu();\n    }\n\n    if (nextProps.required) {\n      this.setState({\n        required: this.handleRequired(valueArray[0], nextProps.multi)\n      });\n    }\n  },\n  componentWillUpdate: function componentWillUpdate(nextProps, nextState) {\n    if (nextState.isOpen !== this.state.isOpen) {\n      this.toggleTouchOutsideEvent(nextState.isOpen);\n      var handler = nextState.isOpen ? nextProps.onOpen : nextProps.onClose;\n      handler && handler();\n    }\n  },\n  componentDidUpdate: function componentDidUpdate(prevProps, prevState) {\n    // focus to the selected option\n    if (this.menu && this.focused && this.state.isOpen && !this.hasScrolledToOption) {\n      var focusedOptionNode = _reactDom2['default'].findDOMNode(this.focused);\n\n      var focusedOptionPreviousSibling = focusedOptionNode.previousSibling;\n      var focusedOptionParent = focusedOptionNode.parentElement;\n\n      var menuNode = _reactDom2['default'].findDOMNode(this.menu);\n\n      if (focusedOptionPreviousSibling) {\n        menuNode.scrollTop = focusedOptionPreviousSibling.offsetTop;\n      } else if (focusedOptionParent && focusedOptionParent === 'Select-menu') {\n        menuNode.scrollTop = focusedOptionParent.offsetTop;\n      } else {\n        menuNode.scrollTop = focusedOptionNode.offsetTop;\n      }\n\n      var paddingTop = parseInt(window.getComputedStyle(menuNode, null).paddingTop, 10);\n      if (menuNode.scrollTop <= paddingTop) menuNode.scrollTop = 0;\n      this.hasScrolledToOption = true;\n    } else if (!this.state.isOpen) {\n      this.hasScrolledToOption = false;\n    }\n\n    if (this._scrollToFocusedOptionOnUpdate && this.focused && this.menu) {\n      this._scrollToFocusedOptionOnUpdate = false;\n\n      var focusedDOM = _reactDom2['default'].findDOMNode(this.focused);\n\n      var menuDOM = _reactDom2['default'].findDOMNode(this.menu);\n\n      var focusedRect = focusedDOM.getBoundingClientRect();\n      var menuRect = menuDOM.getBoundingClientRect();\n\n      if (focusedRect.bottom > menuRect.bottom || focusedRect.top < menuRect.top) {\n        menuDOM.scrollTop = focusedDOM.offsetTop + focusedDOM.clientHeight - menuDOM.offsetHeight;\n      }\n    }\n\n    if (this.props.scrollMenuIntoView && this.menuContainer) {\n      var menuContainerRect = this.menuContainer.getBoundingClientRect();\n\n      if (window.innerHeight < menuContainerRect.bottom + this.props.menuBuffer) {\n        window.scrollBy(0, menuContainerRect.bottom + this.props.menuBuffer - window.innerHeight);\n      }\n    }\n\n    if (prevProps.disabled !== this.props.disabled) {\n      this.setState({\n        isFocused: false\n      }); // eslint-disable-line react/no-did-update-set-state\n\n      this.closeMenu();\n    }\n  },\n  componentWillUnmount: function componentWillUnmount() {\n    if (!document.removeEventListener && document.detachEvent) {\n      document.detachEvent('ontouchstart', this.handleTouchOutside);\n    } else {\n      document.removeEventListener('touchstart', this.handleTouchOutside);\n    }\n  },\n  toggleTouchOutsideEvent: function toggleTouchOutsideEvent(enabled) {\n    if (enabled) {\n      if (!document.addEventListener && document.attachEvent) {\n        document.attachEvent('ontouchstart', this.handleTouchOutside);\n      } else {\n        document.addEventListener('touchstart', this.handleTouchOutside);\n      }\n    } else {\n      if (!document.removeEventListener && document.detachEvent) {\n        document.detachEvent('ontouchstart', this.handleTouchOutside);\n      } else {\n        document.removeEventListener('touchstart', this.handleTouchOutside);\n      }\n    }\n  },\n  handleTouchOutside: function handleTouchOutside(event) {\n    // handle touch outside on ios to dismiss menu\n    if (this.wrapper && !this.wrapper.contains(event.target) && this.menuContainer && !this.menuContainer.contains(event.target)) {\n      this.closeMenu();\n    }\n  },\n  focus: function focus() {\n    if (!this.input) return;\n    this.input.focus();\n\n    if (this.props.openAfterFocus) {\n      this.setState({\n        isOpen: true\n      });\n    }\n  },\n  blurInput: function blurInput() {\n    if (!this.input) return;\n    this.input.blur();\n  },\n  handleTouchMove: function handleTouchMove(event) {\n    // Set a flag that the view is being dragged\n    this.dragging = true;\n  },\n  handleTouchStart: function handleTouchStart(event) {\n    // Set a flag that the view is not being dragged\n    this.dragging = false;\n  },\n  handleTouchEnd: function handleTouchEnd(event) {\n    // Check if the view is being dragged, In this case\n    // we don't want to fire the click event (because the user only wants to scroll)\n    if (this.dragging) return; // Fire the mouse events\n\n    this.handleMouseDown(event);\n  },\n  handleTouchEndClearValue: function handleTouchEndClearValue(event) {\n    // Check if the view is being dragged, In this case\n    // we don't want to fire the click event (because the user only wants to scroll)\n    if (this.dragging) return; // Clear the value\n\n    this.clearValue(event);\n  },\n  handleMouseDown: function handleMouseDown(event) {\n    // if the event was triggered by a mousedown and not the primary\n    // button, or if the component is disabled, ignore it.\n    if (this.props.disabled || event.type === 'mousedown' && event.button !== 0) {\n      return;\n    }\n\n    if (event.target.tagName === 'INPUT') {\n      return;\n    } // prevent default event handlers\n\n\n    event.stopPropagation();\n    event.preventDefault(); // for the non-searchable select, toggle the menu\n\n    if (!this.props.searchable) {\n      this.focus();\n      return this.setState({\n        isOpen: !this.state.isOpen\n      });\n    }\n\n    if (this.state.isFocused) {\n      // On iOS, we can get into a state where we think the input is focused but it isn't really,\n      // since iOS ignores programmatic calls to input.focus() that weren't triggered by a click event.\n      // Call focus() again here to be safe.\n      this.focus();\n      var input = this.input;\n\n      if (typeof input.getInput === 'function') {\n        // Get the actual DOM input if the ref is an <AutosizeInput /> component\n        input = input.getInput();\n      } // clears the value so that the cursor will be at the end of input when the component re-renders\n\n\n      input.value = ''; // if the input is focused, ensure the menu is open\n\n      this.setState({\n        isOpen: true,\n        isPseudoFocused: false\n      });\n    } else {\n      // otherwise, focus the input and open the menu\n      this._openAfterFocus = this.props.openOnFocus;\n      this.focus();\n    }\n  },\n  handleMouseDownOnArrow: function handleMouseDownOnArrow(event) {\n    // if the event was triggered by a mousedown and not the primary\n    // button, or if the component is disabled, ignore it.\n    if (this.props.disabled || event.type === 'mousedown' && event.button !== 0) {\n      return;\n    } // If the menu isn't open, let the event bubble to the main handleMouseDown\n\n\n    if (!this.state.isOpen) {\n      return;\n    } // prevent default event handlers\n\n\n    event.stopPropagation();\n    event.preventDefault(); // close the menu\n\n    this.closeMenu();\n  },\n  handleMouseDownOnMenu: function handleMouseDownOnMenu(event) {\n    // if the event was triggered by a mousedown and not the primary\n    // button, or if the component is disabled, ignore it.\n    if (this.props.disabled || event.type === 'mousedown' && event.button !== 0) {\n      return;\n    }\n\n    event.stopPropagation();\n    event.preventDefault();\n    this._openAfterFocus = true;\n    this.focus();\n  },\n  closeMenu: function closeMenu() {\n    var _this = this;\n\n    if (this.props.onCloseResetsInput) {\n      this.setState({\n        isOpen: false,\n        isPseudoFocused: this.state.isFocused && !this.props.multi,\n        inputValue: ''\n      }, function () {\n        if (_this.props.onInputChange) _this.props.onInputChange('');\n      });\n    } else {\n      this.setState({\n        isOpen: false,\n        isPseudoFocused: this.state.isFocused && !this.props.multi,\n        inputValue: this.state.inputValue\n      });\n    }\n\n    this.hasScrolledToOption = false;\n  },\n  handleInputFocus: function handleInputFocus(event) {\n    if (this.props.disabled) return;\n    var isOpen = this.state.isOpen || this._openAfterFocus || this.props.openOnFocus;\n\n    if (this.props.onFocus) {\n      this.props.onFocus(event);\n    }\n\n    this.setState({\n      isFocused: true,\n      isOpen: isOpen\n    });\n    this._openAfterFocus = false;\n  },\n  handleInputBlur: function handleInputBlur(event) {\n    // The check for menu.contains(activeElement) is necessary to prevent IE11's scrollbar from closing the menu in certain contexts.\n    if (this.menu && (this.menu === document.activeElement || this.menu.contains(document.activeElement))) {\n      this.focus();\n      return;\n    }\n\n    if (this.props.onBlur) {\n      this.props.onBlur(event);\n    }\n\n    var onBlurredState = {\n      isFocused: false,\n      isOpen: false,\n      isPseudoFocused: false\n    };\n\n    if (this.props.onBlurResetsInput) {\n      onBlurredState.inputValue = '';\n    }\n\n    this.setState(onBlurredState);\n  },\n  handleInputChange: function handleInputChange(event) {\n    var newInputValue = event.target.value;\n\n    if (this.state.inputValue !== event.target.value && this.props.onInputChange) {\n      var nextState = this.props.onInputChange(newInputValue); // Note: != used deliberately here to catch undefined and null\n\n      if (nextState != null && typeof nextState !== 'object') {\n        newInputValue = '' + nextState;\n      }\n    }\n\n    this.setState({\n      isOpen: true,\n      isPseudoFocused: false,\n      inputValue: newInputValue\n    });\n  },\n  handleKeyDown: function handleKeyDown(event) {\n    if (this.props.disabled) return;\n\n    if (typeof this.props.onInputKeyDown === 'function') {\n      this.props.onInputKeyDown(event);\n\n      if (event.defaultPrevented) {\n        return;\n      }\n    }\n\n    switch (event.keyCode) {\n      case 8:\n        // backspace\n        if (!this.state.inputValue && this.props.backspaceRemoves) {\n          event.preventDefault();\n          this.popValue();\n        }\n\n        return;\n\n      case 9:\n        // tab\n        if (event.shiftKey || !this.state.isOpen || !this.props.tabSelectsValue) {\n          return;\n        }\n\n        this.selectFocusedOption();\n        return;\n\n      case 13:\n        // enter\n        if (!this.state.isOpen) {\n          this.setState({\n            isOpen: true\n          });\n          return;\n        }\n\n        ;\n        event.stopPropagation();\n        this.selectFocusedOption();\n        break;\n\n      case 27:\n        // escape\n        if (this.state.isOpen) {\n          this.closeMenu();\n          event.stopPropagation();\n        } else if (this.props.clearable && this.props.escapeClearsValue) {\n          this.clearValue(event);\n          event.stopPropagation();\n        }\n\n        break;\n\n      case 38:\n        // up\n        this.focusPreviousOption();\n        break;\n\n      case 40:\n        // down\n        this.focusNextOption();\n        break;\n\n      case 33:\n        // page up\n        this.focusPageUpOption();\n        break;\n\n      case 34:\n        // page down\n        this.focusPageDownOption();\n        break;\n\n      case 35:\n        // end key\n        if (event.shiftKey) {\n          return;\n        }\n\n        this.focusEndOption();\n        break;\n\n      case 36:\n        // home key\n        if (event.shiftKey) {\n          return;\n        }\n\n        this.focusStartOption();\n        break;\n\n      case 46:\n        // backspace\n        if (!this.state.inputValue && this.props.deleteRemoves) {\n          event.preventDefault();\n          this.popValue();\n        }\n\n        return;\n\n      default:\n        return;\n    }\n\n    event.preventDefault();\n  },\n  handleValueClick: function handleValueClick(option, event) {\n    if (!this.props.onValueClick) return;\n    this.props.onValueClick(option, event);\n  },\n  handleMenuScroll: function handleMenuScroll(event) {\n    if (!this.props.onMenuScrollToBottom) return;\n    var target = event.target;\n\n    if (target.scrollHeight > target.offsetHeight && !(target.scrollHeight - target.offsetHeight - target.scrollTop)) {\n      this.props.onMenuScrollToBottom();\n    }\n  },\n  handleRequired: function handleRequired(value, multi) {\n    if (!value) return true;\n    return multi ? value.length === 0 : Object.keys(value).length === 0;\n  },\n  getOptionLabel: function getOptionLabel(op) {\n    return op[this.props.labelKey];\n  },\n\n  /**\n   * Turns a value into an array from the given options\n   * @param\t{String|Number|Array}\tvalue\t\t- the value of the select input\n   * @param\t{Object}\t\tnextProps\t- optionally specify the nextProps so the returned array uses the latest configuration\n   * @returns\t{Array}\tthe value of the select represented in an array\n   */\n  getValueArray: function getValueArray(value, nextProps) {\n    var _this2 = this;\n    /** support optionally passing in the `nextProps` so `componentWillReceiveProps` updates will function as expected */\n\n\n    var props = typeof nextProps === 'object' ? nextProps : this.props;\n\n    if (props.multi) {\n      if (typeof value === 'string') value = value.split(props.delimiter);\n\n      if (!Array.isArray(value)) {\n        if (value === null || value === undefined) return [];\n        value = [value];\n      }\n\n      return value.map(function (value) {\n        return _this2.expandValue(value, props);\n      }).filter(function (i) {\n        return i;\n      });\n    }\n\n    var expandedValue = this.expandValue(value, props);\n    return expandedValue ? [expandedValue] : [];\n  },\n\n  /**\n   * Retrieve a value from the given options and valueKey\n   * @param\t{String|Number|Array}\tvalue\t- the selected value(s)\n   * @param\t{Object}\t\tprops\t- the Select component's props (or nextProps)\n   */\n  expandValue: function expandValue(value, props) {\n    var valueType = typeof value;\n    if (valueType !== 'string' && valueType !== 'number' && valueType !== 'boolean') return value;\n    var _props = this.props;\n    var labelKey = _props.labelKey;\n    var valueKey = _props.valueKey;\n    var renderInvalidValues = _props.renderInvalidValues;\n    var options = this._flatOptions;\n    if (!options || value === '') return;\n\n    for (var i = 0; i < options.length; i++) {\n      if (options[i][valueKey] === value) return options[i];\n    } // no matching option, return an invalid option if renderInvalidValues is enabled\n\n\n    if (renderInvalidValues) {\n      var _ref;\n\n      invalidOptions[value] = invalidOptions[value] || (_ref = {\n        invalid: true\n      }, _defineProperty(_ref, labelKey, value), _defineProperty(_ref, valueKey, value), _ref);\n      return invalidOptions[value];\n    }\n  },\n  setValue: function setValue(value) {\n    var _this3 = this;\n\n    if (this.props.autoBlur) {\n      this.blurInput();\n    }\n\n    if (!this.props.onChange) return;\n\n    if (this.props.required) {\n      var required = this.handleRequired(value, this.props.multi);\n      this.setState({\n        required: required\n      });\n    }\n\n    if (this.props.simpleValue && value) {\n      value = this.props.multi ? value.map(function (i) {\n        return i[_this3.props.valueKey];\n      }).join(this.props.delimiter) : value[this.props.valueKey];\n    }\n\n    this.props.onChange(value);\n  },\n  selectValue: function selectValue(value) {\n    var _this4 = this; //NOTE: update value in the callback to make sure the input value is empty so that there are no styling issues (Chrome had issue otherwise)\n\n\n    this.hasScrolledToOption = false;\n\n    if (this.props.multi) {\n      this.setState({\n        inputValue: '',\n        focusedIndex: null\n      }, function () {\n        _this4.addValue(value);\n\n        if (_this4.props.onInputChange) _this4.props.onInputChange('');\n      });\n    } else {\n      this.setState({\n        isOpen: false,\n        inputValue: '',\n        isPseudoFocused: this.state.isFocused\n      }, function () {\n        _this4.setValue(value);\n\n        if (_this4.props.onInputChange) _this4.props.onInputChange('');\n      });\n    }\n  },\n  addValue: function addValue(value) {\n    var valueArray = this.getValueArray(this.props.value);\n\n    var visibleOptions = this._visibleOptions.filter(function (val) {\n      return !val.disabled;\n    });\n\n    var lastValueIndex = visibleOptions.indexOf(value);\n    this.setValue(valueArray.concat(value));\n\n    if (visibleOptions.length - 1 === lastValueIndex) {\n      // the last option was selected; focus the second-last one\n      this.focusOption(visibleOptions[lastValueIndex - 1]);\n    } else if (visibleOptions.length > lastValueIndex) {\n      // focus the option below the selected one\n      this.focusOption(visibleOptions[lastValueIndex + 1]);\n    }\n  },\n  popValue: function popValue() {\n    var valueArray = this.getValueArray(this.props.value);\n    if (!valueArray.length) return;\n    if (valueArray[valueArray.length - 1].clearableValue === false) return;\n    this.setValue(valueArray.slice(0, valueArray.length - 1));\n  },\n  removeValue: function removeValue(value) {\n    var valueArray = this.getValueArray(this.props.value);\n    this.setValue(valueArray.filter(function (i) {\n      return i !== value;\n    }));\n  },\n  clearValue: function clearValue(event) {\n    var _this5 = this; // if the event was triggered by a mousedown and not the primary\n    // button, ignore it.\n\n\n    if (event && event.type === 'mousedown' && event.button !== 0) {\n      return;\n    }\n\n    event.stopPropagation();\n    event.preventDefault();\n    this.setValue(this.getResetValue());\n    this.setState({\n      isOpen: false,\n      inputValue: ''\n    }, function () {\n      _this5.focus();\n\n      if (_this5.props.onInputChange) _this5.props.onInputChange('');\n    });\n  },\n  getResetValue: function getResetValue() {\n    if (this.props.resetValue !== undefined) {\n      return this.props.resetValue;\n    } else if (this.props.multi) {\n      return [];\n    } else {\n      return null;\n    }\n  },\n  focusOption: function focusOption(option) {\n    this.setState({\n      focusedOption: option\n    });\n  },\n  focusNextOption: function focusNextOption() {\n    this.focusAdjacentOption('next');\n  },\n  focusPreviousOption: function focusPreviousOption() {\n    this.focusAdjacentOption('previous');\n  },\n  focusPageUpOption: function focusPageUpOption() {\n    this.focusAdjacentOption('page_up');\n  },\n  focusPageDownOption: function focusPageDownOption() {\n    this.focusAdjacentOption('page_down');\n  },\n  focusStartOption: function focusStartOption() {\n    this.focusAdjacentOption('start');\n  },\n  focusEndOption: function focusEndOption() {\n    this.focusAdjacentOption('end');\n  },\n  focusAdjacentOption: function focusAdjacentOption(dir) {\n    var _this6 = this;\n\n    var options = this._visibleOptions.map(function (option, index) {\n      return {\n        option: option,\n        index: index\n      };\n    }).filter(function (option) {\n      return !option.option.disabled;\n    });\n\n    this._scrollToFocusedOptionOnUpdate = true;\n\n    if (!this.state.isOpen) {\n      this.setState({\n        isOpen: true,\n        inputValue: '',\n        focusedOption: this._focusedOption || (options.length ? options[dir === 'next' ? 0 : options.length - 1].option : null)\n      }, function () {\n        if (_this6.props.onInputChange) _this6.props.onInputChange('');\n      });\n      return;\n    }\n\n    if (!options.length) return;\n    var focusedIndex = -1;\n\n    for (var i = 0; i < options.length; i++) {\n      if (this._focusedOption === options[i].option) {\n        focusedIndex = i;\n        break;\n      }\n    }\n\n    if (dir === 'next' && focusedIndex !== -1) {\n      focusedIndex = (focusedIndex + 1) % options.length;\n    } else if (dir === 'previous') {\n      if (focusedIndex > 0) {\n        focusedIndex = focusedIndex - 1;\n      } else {\n        focusedIndex = options.length - 1;\n      }\n    } else if (dir === 'start') {\n      focusedIndex = 0;\n    } else if (dir === 'end') {\n      focusedIndex = options.length - 1;\n    } else if (dir === 'page_up') {\n      var potentialIndex = focusedIndex - this.props.pageSize;\n\n      if (potentialIndex < 0) {\n        focusedIndex = 0;\n      } else {\n        focusedIndex = potentialIndex;\n      }\n    } else if (dir === 'page_down') {\n      var potentialIndex = focusedIndex + this.props.pageSize;\n\n      if (potentialIndex > options.length - 1) {\n        focusedIndex = options.length - 1;\n      } else {\n        focusedIndex = potentialIndex;\n      }\n    }\n\n    if (focusedIndex === -1) {\n      focusedIndex = 0;\n    }\n\n    this.setState({\n      focusedIndex: options[focusedIndex].index,\n      focusedOption: options[focusedIndex].option\n    });\n  },\n  getFocusedOption: function getFocusedOption() {\n    return this._focusedOption;\n  },\n  getInputValue: function getInputValue() {\n    return this.state.inputValue;\n  },\n  selectFocusedOption: function selectFocusedOption() {\n    if (this._focusedOption) {\n      return this.selectValue(this._focusedOption);\n    }\n  },\n  renderLoading: function renderLoading() {\n    if (!this.props.isLoading) return;\n    return _react2['default'].createElement('span', {\n      className: 'Select-loading-zone',\n      'aria-hidden': 'true'\n    }, _react2['default'].createElement('span', {\n      className: 'Select-loading'\n    }));\n  },\n  renderValue: function renderValue(valueArray, isOpen) {\n    var _this7 = this;\n\n    var renderLabel = this.props.valueRenderer || this.getOptionLabel;\n    var ValueComponent = this.props.valueComponent;\n\n    if (!valueArray.length) {\n      return !this.state.inputValue ? _react2['default'].createElement('div', {\n        className: 'Select-placeholder'\n      }, this.props.placeholder) : null;\n    }\n\n    var onClick = this.props.onValueClick ? this.handleValueClick : null;\n\n    if (this.props.multi) {\n      return valueArray.map(function (value, i) {\n        return _react2['default'].createElement(ValueComponent, {\n          id: _this7._instancePrefix + '-value-' + i,\n          instancePrefix: _this7._instancePrefix,\n          disabled: _this7.props.disabled || value.clearableValue === false,\n          key: 'value-' + i + '-' + value[_this7.props.valueKey],\n          onClick: onClick,\n          onRemove: _this7.removeValue,\n          value: value\n        }, renderLabel(value, i), _react2['default'].createElement('span', {\n          className: 'Select-aria-only'\n        }, 'Â '));\n      });\n    } else if (!this.state.inputValue) {\n      if (isOpen) onClick = null;\n      return _react2['default'].createElement(ValueComponent, {\n        id: this._instancePrefix + '-value-item',\n        disabled: this.props.disabled,\n        instancePrefix: this._instancePrefix,\n        onClick: onClick,\n        value: valueArray[0]\n      }, renderLabel(valueArray[0]));\n    }\n  },\n  renderInput: function renderInput(valueArray, focusedOptionIndex) {\n    var _classNames,\n        _this8 = this;\n\n    var className = (0, _classnames2['default'])('Select-input', this.props.inputProps.className);\n    var isOpen = !!this.state.isOpen;\n    var ariaOwns = (0, _classnames2['default'])((_classNames = {}, _defineProperty(_classNames, this._instancePrefix + '-list', isOpen), _defineProperty(_classNames, this._instancePrefix + '-backspace-remove-message', this.props.multi && !this.props.disabled && this.state.isFocused && !this.state.inputValue), _classNames)); // TODO: Check how this project includes Object.assign()\n\n    var inputProps = _extends({}, this.props.inputProps, {\n      role: 'combobox',\n      'aria-expanded': '' + isOpen,\n      'aria-owns': ariaOwns,\n      'aria-haspopup': '' + isOpen,\n      'aria-activedescendant': isOpen ? this._instancePrefix + '-option-' + focusedOptionIndex : this._instancePrefix + '-value',\n      'aria-describedby': this.props['aria-describedby'],\n      'aria-labelledby': this.props['aria-labelledby'],\n      'aria-label': this.props['aria-label'],\n      className: className,\n      tabIndex: this.props.tabIndex,\n      onBlur: this.handleInputBlur,\n      onChange: this.handleInputChange,\n      onFocus: this.handleInputFocus,\n      ref: function ref(_ref2) {\n        return _this8.input = _ref2;\n      },\n      required: this.state.required,\n      value: this.state.inputValue\n    });\n\n    if (this.props.inputRenderer) {\n      return this.props.inputRenderer(inputProps);\n    }\n\n    if (this.props.disabled || !this.props.searchable) {\n      var _props$inputProps = this.props.inputProps;\n      var inputClassName = _props$inputProps.inputClassName;\n\n      var divProps = _objectWithoutProperties(_props$inputProps, ['inputClassName']);\n\n      return _react2['default'].createElement('div', _extends({}, divProps, {\n        role: 'combobox',\n        'aria-expanded': isOpen,\n        'aria-owns': isOpen ? this._instancePrefix + '-list' : this._instancePrefix + '-value',\n        'aria-activedescendant': isOpen ? this._instancePrefix + '-option-' + focusedOptionIndex : this._instancePrefix + '-value',\n        className: className,\n        tabIndex: this.props.tabIndex || 0,\n        onBlur: this.handleInputBlur,\n        onFocus: this.handleInputFocus,\n        ref: function (ref) {\n          return _this8.input = ref;\n        },\n        'aria-readonly': '' + !!this.props.disabled,\n        style: {\n          border: 0,\n          width: 1,\n          display: 'inline-block'\n        }\n      }));\n    }\n\n    if (this.props.autosize) {\n      return _react2['default'].createElement(_reactInputAutosize2['default'], _extends({}, inputProps, {\n        minWidth: '5'\n      }));\n    }\n\n    return _react2['default'].createElement('div', {\n      className: className\n    }, _react2['default'].createElement('input', inputProps));\n  },\n  renderClear: function renderClear() {\n    if (!this.props.clearable || !this.props.value || this.props.value === 0 || this.props.multi && !this.props.value.length || this.props.disabled || this.props.isLoading) return;\n    var clear = this.props.clearRenderer();\n    return _react2['default'].createElement('span', {\n      className: 'Select-clear-zone',\n      title: this.props.multi ? this.props.clearAllText : this.props.clearValueText,\n      'aria-label': this.props.multi ? this.props.clearAllText : this.props.clearValueText,\n      onMouseDown: this.clearValue,\n      onTouchStart: this.handleTouchStart,\n      onTouchMove: this.handleTouchMove,\n      onTouchEnd: this.handleTouchEndClearValue\n    }, clear);\n  },\n  renderArrow: function renderArrow() {\n    var onMouseDown = this.handleMouseDownOnArrow;\n    var isOpen = this.state.isOpen;\n    var arrow = this.props.arrowRenderer({\n      onMouseDown: onMouseDown,\n      isOpen: isOpen\n    });\n    return _react2['default'].createElement('span', {\n      className: 'Select-arrow-zone',\n      onMouseDown: onMouseDown\n    }, arrow);\n  },\n  filterFlatOptions: function filterFlatOptions(excludeOptions) {\n    var filterValue = this.state.inputValue;\n    var flatOptions = this._flatOptions;\n\n    if (this.props.filterOptions) {\n      // Maintain backwards compatibility with boolean attribute\n      var filterOptions = typeof this.props.filterOptions === 'function' ? this.props.filterOptions : _utilsDefaultFilterOptions2['default'];\n      return filterOptions(flatOptions, filterValue, excludeOptions, {\n        filterOption: this.props.filterOption,\n        ignoreAccents: this.props.ignoreAccents,\n        ignoreCase: this.props.ignoreCase,\n        labelKey: this.props.labelKey,\n        matchPos: this.props.matchPos,\n        matchProp: this.props.matchProp,\n        valueKey: this.props.valueKey\n      });\n    } else {\n      return flatOptions;\n    }\n  },\n  flattenOptions: function flattenOptions(options, group) {\n    if (!options) return [];\n    var flatOptions = [];\n\n    for (var i = 0; i < options.length; i++) {\n      // We clone each option with a pointer to its parent group for efficient unflattening\n      var optionCopy = clone(options[i]);\n      optionCopy.isInTree = false;\n\n      if (group) {\n        optionCopy.group = group;\n      }\n\n      if (isGroup(optionCopy)) {\n        flatOptions = flatOptions.concat(this.flattenOptions(optionCopy.options, optionCopy));\n        optionCopy.options = [];\n      } else {\n        flatOptions.push(optionCopy);\n      }\n    }\n\n    return flatOptions;\n  },\n  unflattenOptions: function unflattenOptions(flatOptions) {\n    var groupedOptions = [];\n    var parent = undefined,\n        child = undefined; // Remove all ancestor groups from the tree\n\n    flatOptions.forEach(function (option) {\n      option.isInTree = false;\n      parent = option.group;\n\n      while (parent) {\n        if (parent.isInTree) {\n          parent.options = [];\n          parent.isInTree = false;\n        }\n\n        parent = parent.group;\n      }\n    }); // Now reconstruct the options tree\n\n    flatOptions.forEach(function (option) {\n      child = option;\n      parent = child.group;\n\n      while (parent) {\n        if (!child.isInTree) {\n          parent.options.push(child);\n          child.isInTree = true;\n        }\n\n        child = parent;\n        parent = child.group;\n      }\n\n      if (!child.isInTree) {\n        groupedOptions.push(child);\n        child.isInTree = true;\n      }\n    });\n    return groupedOptions;\n  },\n  onOptionRef: function onOptionRef(ref, isFocused) {\n    if (isFocused) {\n      this.focused = ref;\n    }\n  },\n  renderMenu: function renderMenu(options, valueArray, focusedOption) {\n    if (options && options.length) {\n      return this.props.menuRenderer({\n        focusedOption: focusedOption,\n        focusOption: this.focusOption,\n        instancePrefix: this._instancePrefix,\n        labelKey: this.props.labelKey,\n        onFocus: this.focusOption,\n        onOptionRef: this.onOptionRef,\n        onSelect: this.selectValue,\n        optionClassName: this.props.optionClassName,\n        optionComponent: this.props.optionComponent,\n        optionGroupComponent: this.props.optionGroupComponent,\n        optionRenderer: this.props.optionRenderer || this.getOptionLabel,\n        options: options,\n        selectValue: this.selectValue,\n        valueArray: valueArray,\n        valueKey: this.props.valueKey\n      });\n    } else if (this.props.noResultsText) {\n      return _react2['default'].createElement('div', {\n        className: 'Select-noresults'\n      }, this.props.noResultsText);\n    } else {\n      return null;\n    }\n  },\n  renderHiddenField: function renderHiddenField(valueArray) {\n    var _this9 = this;\n\n    if (!this.props.name) return;\n\n    if (this.props.joinValues) {\n      var value = valueArray.map(function (i) {\n        return stringifyValue(i[_this9.props.valueKey]);\n      }).join(this.props.delimiter);\n      return _react2['default'].createElement('input', {\n        type: 'hidden',\n        ref: function (ref) {\n          return _this9.value = ref;\n        },\n        name: this.props.name,\n        value: value,\n        disabled: this.props.disabled\n      });\n    }\n\n    return valueArray.map(function (item, index) {\n      return _react2['default'].createElement('input', {\n        key: 'hidden.' + index,\n        type: 'hidden',\n        ref: 'value' + index,\n        name: _this9.props.name,\n        value: stringifyValue(item[_this9.props.valueKey]),\n        disabled: _this9.props.disabled\n      });\n    });\n  },\n  getFocusableOptionIndex: function getFocusableOptionIndex(selectedOption) {\n    var options = this._visibleOptions;\n    if (!options.length) return null;\n    var focusedOption = this.state.focusedOption || selectedOption;\n\n    if (focusedOption && !focusedOption.disabled) {\n      var focusedOptionIndex = -1;\n      options.some(function (option, index) {\n        var isOptionEqual = option.value === focusedOption.value;\n\n        if (isOptionEqual) {\n          focusedOptionIndex = index;\n        }\n\n        return isOptionEqual;\n      });\n\n      if (focusedOptionIndex !== -1) {\n        return focusedOptionIndex;\n      }\n    }\n\n    for (var i = 0; i < options.length; i++) {\n      if (!options[i].disabled) return i;\n    }\n\n    return null;\n  },\n  renderOuter: function renderOuter(options, valueArray, focusedOption) {\n    var _this10 = this;\n\n    var Dropdown = this.props.dropdownComponent;\n    var menu = this.renderMenu(options, valueArray, focusedOption);\n\n    if (!menu) {\n      return null;\n    }\n\n    return _react2['default'].createElement(Dropdown, null, _react2['default'].createElement('div', {\n      ref: function (ref) {\n        return _this10.menuContainer = ref;\n      },\n      className: 'Select-menu-outer',\n      style: this.props.menuContainerStyle\n    }, _react2['default'].createElement('div', {\n      ref: function (ref) {\n        return _this10.menu = ref;\n      },\n      role: 'listbox',\n      className: 'Select-menu',\n      id: this._instancePrefix + '-list',\n      style: this.props.menuStyle,\n      onScroll: this.handleMenuScroll,\n      onMouseDown: this.handleMouseDownOnMenu\n    }, menu)));\n  },\n  render: function render() {\n    var _this11 = this;\n\n    var valueArray = this.getValueArray(this.props.value);\n    this._visibleOptions = this.filterFlatOptions(this.props.multi ? valueArray : null);\n    var options = this.unflattenOptions(this._visibleOptions);\n    var isOpen = typeof this.props.isOpen === 'boolean' ? this.props.isOpen : this.state.isOpen;\n    var focusedOptionIndex = this.getFocusableOptionIndex(valueArray[0]);\n    var focusedOption = null;\n\n    if (focusedOptionIndex !== null) {\n      focusedOption = this._focusedOption = this._visibleOptions[focusedOptionIndex];\n    } else {\n      focusedOption = this._focusedOption = null;\n    }\n\n    var className = (0, _classnames2['default'])('Select', this.props.className, {\n      'Select--multi': this.props.multi,\n      'Select--single': !this.props.multi,\n      'is-disabled': this.props.disabled,\n      'is-focused': this.state.isFocused,\n      'is-loading': this.props.isLoading,\n      'is-open': isOpen,\n      'is-pseudo-focused': this.state.isPseudoFocused,\n      'is-searchable': this.props.searchable,\n      'has-value': valueArray.length\n    });\n    var removeMessage = null;\n\n    if (this.props.multi && !this.props.disabled && valueArray.length && !this.state.inputValue && this.state.isFocused && this.props.backspaceRemoves) {\n      removeMessage = _react2['default'].createElement('span', {\n        id: this._instancePrefix + '-backspace-remove-message',\n        className: 'Select-aria-only',\n        'aria-live': 'assertive'\n      }, this.props.backspaceToRemoveMessage.replace('{label}', valueArray[valueArray.length - 1][this.props.labelKey]));\n    }\n\n    return _react2['default'].createElement('div', {\n      ref: function (ref) {\n        return _this11.wrapper = ref;\n      },\n      className: className,\n      style: this.props.wrapperStyle\n    }, this.renderHiddenField(valueArray), _react2['default'].createElement('div', {\n      ref: function (ref) {\n        return _this11.control = ref;\n      },\n      className: 'Select-control',\n      style: this.props.style,\n      onKeyDown: this.handleKeyDown,\n      onMouseDown: this.handleMouseDown,\n      onTouchEnd: this.handleTouchEnd,\n      onTouchStart: this.handleTouchStart,\n      onTouchMove: this.handleTouchMove\n    }, _react2['default'].createElement('span', {\n      className: 'Select-multi-value-wrapper',\n      id: this._instancePrefix + '-value'\n    }, this.renderValue(valueArray, isOpen), this.renderInput(valueArray, focusedOptionIndex)), removeMessage, this.renderLoading(), this.renderClear(), this.renderArrow()), isOpen ? this.renderOuter(options, !this.props.multi ? valueArray : null, focusedOption) : null);\n  }\n});\n\nSelect.stripDiacritics = _utilsStripDiacritics2['default'];\nexports['default'] = Select;\nmodule.exports = exports['default'];","map":{"version":3,"sources":["/home/dani/komposzt/git@github.com:danielvarsas/muckhost/node_modules/react-select-plus/lib/Select.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_interopRequireDefault","obj","__esModule","_objectWithoutProperties","keys","indexOf","_defineProperty","enumerable","configurable","writable","_react","require","_react2","_reactDom","_reactDom2","_reactInputAutosize","_reactInputAutosize2","_classnames","_classnames2","_utilsDefaultArrowRenderer","_utilsDefaultArrowRenderer2","_utilsDefaultFilterOptions","_utilsDefaultFilterOptions2","_utilsDefaultMenuRenderer","_utilsDefaultMenuRenderer2","_utilsDefaultClearRenderer","_utilsDefaultClearRenderer2","_utilsStripDiacritics","_utilsStripDiacritics2","_Async","_Async2","_AsyncCreatable","_AsyncCreatable2","_Creatable","_Creatable2","_Dropdown","_Dropdown2","_Option","_Option2","_OptionGroup","_OptionGroup2","_Value","_Value2","clone","copy","attr","isGroup","option","Array","isArray","options","stringifyValue","valueType","JSON","stringify","String","stringOrNode","PropTypes","oneOfType","string","node","instanceId","invalidOptions","Select","createClass","displayName","propTypes","addLabelText","arrowRenderer","func","autoBlur","bool","autofocus","autosize","backspaceRemoves","backspaceToRemoveMessage","className","clearAllText","clearRenderer","clearValueText","clearable","deleteRemoves","delimiter","disabled","dropdownComponent","escapeClearsValue","filterOption","filterOptions","any","ignoreAccents","ignoreCase","inputProps","object","inputRenderer","isLoading","isOpen","joinValues","labelKey","matchPos","matchProp","menuBuffer","number","menuContainerStyle","menuRenderer","menuStyle","multi","name","noResultsText","onBlur","onBlurResetsInput","onChange","onClose","onCloseResetsInput","onFocus","onInputChange","onInputKeyDown","onMenuScrollToBottom","onOpen","onValueClick","openAfterFocus","openOnFocus","optionClassName","optionComponent","optionGroupComponent","optionRenderer","array","pageSize","placeholder","renderInvalidValues","required","resetValue","scrollMenuIntoView","searchable","simpleValue","style","tabIndex","tabSelectsValue","valueComponent","valueKey","valueRenderer","wrapperStyle","statics","Async","AsyncCreatable","Creatable","getDefaultProps","getInitialState","inputValue","isFocused","props","isPseudoFocused","componentWillMount","_flatOptions","flattenOptions","_instancePrefix","valueArray","getValueArray","setState","handleRequired","componentDidMount","focus","componentWillReceiveProps","nextProps","closeMenu","componentWillUpdate","nextState","state","toggleTouchOutsideEvent","handler","componentDidUpdate","prevProps","prevState","menu","focused","hasScrolledToOption","focusedOptionNode","findDOMNode","focusedOptionPreviousSibling","previousSibling","focusedOptionParent","parentElement","menuNode","scrollTop","offsetTop","paddingTop","parseInt","window","getComputedStyle","_scrollToFocusedOptionOnUpdate","focusedDOM","menuDOM","focusedRect","getBoundingClientRect","menuRect","bottom","top","clientHeight","offsetHeight","menuContainer","menuContainerRect","innerHeight","scrollBy","componentWillUnmount","document","removeEventListener","detachEvent","handleTouchOutside","enabled","addEventListener","attachEvent","event","wrapper","contains","input","blurInput","blur","handleTouchMove","dragging","handleTouchStart","handleTouchEnd","handleMouseDown","handleTouchEndClearValue","clearValue","type","button","tagName","stopPropagation","preventDefault","getInput","_openAfterFocus","handleMouseDownOnArrow","handleMouseDownOnMenu","_this","handleInputFocus","handleInputBlur","activeElement","onBlurredState","handleInputChange","newInputValue","handleKeyDown","defaultPrevented","keyCode","popValue","shiftKey","selectFocusedOption","focusPreviousOption","focusNextOption","focusPageUpOption","focusPageDownOption","focusEndOption","focusStartOption","handleValueClick","handleMenuScroll","scrollHeight","getOptionLabel","op","_this2","split","undefined","map","expandValue","filter","expandedValue","_props","_ref","invalid","setValue","_this3","join","selectValue","_this4","focusedIndex","addValue","visibleOptions","_visibleOptions","val","lastValueIndex","concat","focusOption","clearableValue","slice","removeValue","_this5","getResetValue","focusedOption","focusAdjacentOption","dir","_this6","index","_focusedOption","potentialIndex","getFocusedOption","getInputValue","renderLoading","createElement","renderValue","_this7","renderLabel","ValueComponent","onClick","id","instancePrefix","onRemove","renderInput","focusedOptionIndex","_classNames","_this8","ariaOwns","role","ref","_ref2","_props$inputProps","inputClassName","divProps","border","width","display","minWidth","renderClear","clear","title","onMouseDown","onTouchStart","onTouchMove","onTouchEnd","renderArrow","arrow","filterFlatOptions","excludeOptions","filterValue","flatOptions","group","optionCopy","isInTree","push","unflattenOptions","groupedOptions","parent","child","forEach","onOptionRef","renderMenu","onSelect","renderHiddenField","_this9","item","getFocusableOptionIndex","selectedOption","some","isOptionEqual","renderOuter","_this10","Dropdown","onScroll","render","_this11","removeMessage","replace","control","onKeyDown","stripDiacritics","module"],"mappings":"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","sourcesContent":["/*!\n  Copyright (c) 2016 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/react-select\n*/\n\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n\tvalue: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactInputAutosize = require('react-input-autosize');\n\nvar _reactInputAutosize2 = _interopRequireDefault(_reactInputAutosize);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _utilsDefaultArrowRenderer = require('./utils/defaultArrowRenderer');\n\nvar _utilsDefaultArrowRenderer2 = _interopRequireDefault(_utilsDefaultArrowRenderer);\n\nvar _utilsDefaultFilterOptions = require('./utils/defaultFilterOptions');\n\nvar _utilsDefaultFilterOptions2 = _interopRequireDefault(_utilsDefaultFilterOptions);\n\nvar _utilsDefaultMenuRenderer = require('./utils/defaultMenuRenderer');\n\nvar _utilsDefaultMenuRenderer2 = _interopRequireDefault(_utilsDefaultMenuRenderer);\n\nvar _utilsDefaultClearRenderer = require('./utils/defaultClearRenderer');\n\nvar _utilsDefaultClearRenderer2 = _interopRequireDefault(_utilsDefaultClearRenderer);\n\nvar _utilsStripDiacritics = require('./utils/stripDiacritics');\n\nvar _utilsStripDiacritics2 = _interopRequireDefault(_utilsStripDiacritics);\n\nvar _Async = require('./Async');\n\nvar _Async2 = _interopRequireDefault(_Async);\n\nvar _AsyncCreatable = require('./AsyncCreatable');\n\nvar _AsyncCreatable2 = _interopRequireDefault(_AsyncCreatable);\n\nvar _Creatable = require('./Creatable');\n\nvar _Creatable2 = _interopRequireDefault(_Creatable);\n\nvar _Dropdown = require('./Dropdown');\n\nvar _Dropdown2 = _interopRequireDefault(_Dropdown);\n\nvar _Option = require('./Option');\n\nvar _Option2 = _interopRequireDefault(_Option);\n\nvar _OptionGroup = require('./OptionGroup');\n\nvar _OptionGroup2 = _interopRequireDefault(_OptionGroup);\n\nvar _Value = require('./Value');\n\nvar _Value2 = _interopRequireDefault(_Value);\n\nfunction clone(obj) {\n\tvar copy = {};\n\tfor (var attr in obj) {\n\t\tif (obj.hasOwnProperty(attr)) {\n\t\t\tcopy[attr] = obj[attr];\n\t\t};\n\t}\n\treturn copy;\n}\n\nfunction isGroup(option) {\n\treturn option && Array.isArray(option.options);\n}\n\nfunction stringifyValue(value) {\n\tvar valueType = typeof value;\n\tif (valueType === 'string') {\n\t\treturn value;\n\t} else if (valueType === 'object') {\n\t\treturn JSON.stringify(value);\n\t} else if (valueType === 'number' || valueType === 'boolean') {\n\t\treturn String(value);\n\t} else {\n\t\treturn '';\n\t}\n}\n\nvar stringOrNode = _react2['default'].PropTypes.oneOfType([_react2['default'].PropTypes.string, _react2['default'].PropTypes.node]);\n\nvar instanceId = 1;\n\nvar invalidOptions = {};\n\nvar Select = _react2['default'].createClass({\n\n\tdisplayName: 'Select',\n\n\tpropTypes: {\n\t\taddLabelText: _react2['default'].PropTypes.string, // placeholder displayed when you want to add a label on a multi-value input\n\t\t'aria-describedby': _react2['default'].PropTypes.string, // HTML ID(s) of element(s) that should be used to describe this input (for assistive tech)\n\t\t'aria-label': _react2['default'].PropTypes.string, // Aria label (for assistive tech)\n\t\t'aria-labelledby': _react2['default'].PropTypes.string, // HTML ID of an element that should be used as the label (for assistive tech)\n\t\tarrowRenderer: _react2['default'].PropTypes.func, // Create drop-down caret element\n\t\tautoBlur: _react2['default'].PropTypes.bool, // automatically blur the component when an option is selected\n\t\tautofocus: _react2['default'].PropTypes.bool, // autofocus the component on mount\n\t\tautosize: _react2['default'].PropTypes.bool, // whether to enable autosizing or not\n\t\tbackspaceRemoves: _react2['default'].PropTypes.bool, // whether backspace removes an item if there is no text input\n\t\tbackspaceToRemoveMessage: _react2['default'].PropTypes.string, // Message to use for screenreaders to press backspace to remove the current item - {label} is replaced with the item label\n\t\tclassName: _react2['default'].PropTypes.string, // className for the outer element\n\t\tclearAllText: stringOrNode, // title for the \"clear\" control when multi: true\n\t\tclearRenderer: _react2['default'].PropTypes.func, // create clearable x element\n\t\tclearValueText: stringOrNode, // title for the \"clear\" control\n\t\tclearable: _react2['default'].PropTypes.bool, // should it be possible to reset value\n\t\tdeleteRemoves: _react2['default'].PropTypes.bool, // whether backspace removes an item if there is no text input\n\t\tdelimiter: _react2['default'].PropTypes.string, // delimiter to use to join multiple values for the hidden field value\n\t\tdisabled: _react2['default'].PropTypes.bool, // whether the Select is disabled or not\n\t\tdropdownComponent: _react2['default'].PropTypes.func, // dropdown component to render the menu in\n\t\tescapeClearsValue: _react2['default'].PropTypes.bool, // whether escape clears the value when the menu is closed\n\t\tfilterOption: _react2['default'].PropTypes.func, // method to filter a single option (option, filterString)\n\t\tfilterOptions: _react2['default'].PropTypes.any, // boolean to enable default filtering or function to filter the options array ([options], filterString, [values])\n\t\tignoreAccents: _react2['default'].PropTypes.bool, // whether to strip diacritics when filtering\n\t\tignoreCase: _react2['default'].PropTypes.bool, // whether to perform case-insensitive filtering\n\t\tinputProps: _react2['default'].PropTypes.object, // custom attributes for the Input\n\t\tinputRenderer: _react2['default'].PropTypes.func, // returns a custom input component\n\t\tinstanceId: _react2['default'].PropTypes.string, // set the components instanceId\n\t\tisLoading: _react2['default'].PropTypes.bool, // whether the Select is loading externally or not (such as options being loaded)\n\t\tisOpen: _react2['default'].PropTypes.bool, // whether the Select dropdown menu is open or not\n\t\tjoinValues: _react2['default'].PropTypes.bool, // joins multiple values into a single form field with the delimiter (legacy mode)\n\t\tlabelKey: _react2['default'].PropTypes.string, // path of the label value in option objects\n\t\tmatchPos: _react2['default'].PropTypes.string, // (any|start) match the start or entire string when filtering\n\t\tmatchProp: _react2['default'].PropTypes.string, // (any|label|value) which option property to filter on\n\t\tmenuBuffer: _react2['default'].PropTypes.number, // optional buffer (in px) between the bottom of the viewport and the bottom of the menu\n\t\tmenuContainerStyle: _react2['default'].PropTypes.object, // optional style to apply to the menu container\n\t\tmenuRenderer: _react2['default'].PropTypes.func, // renders a custom menu with options\n\t\tmenuStyle: _react2['default'].PropTypes.object, // optional style to apply to the menu\n\t\tmulti: _react2['default'].PropTypes.bool, // multi-value input\n\t\tname: _react2['default'].PropTypes.string, // generates a hidden <input /> tag with this field name for html forms\n\t\tnoResultsText: stringOrNode, // placeholder displayed when there are no matching search results\n\t\tonBlur: _react2['default'].PropTypes.func, // onBlur handler: function (event) {}\n\t\tonBlurResetsInput: _react2['default'].PropTypes.bool, // whether input is cleared on blur\n\t\tonChange: _react2['default'].PropTypes.func, // onChange handler: function (newValue) {}\n\t\tonClose: _react2['default'].PropTypes.func, // fires when the menu is closed\n\t\tonCloseResetsInput: _react2['default'].PropTypes.bool, // whether input is cleared when menu is closed through the arrow\n\t\tonFocus: _react2['default'].PropTypes.func, // onFocus handler: function (event) {}\n\t\tonInputChange: _react2['default'].PropTypes.func, // onInputChange handler: function (inputValue) {}\n\t\tonInputKeyDown: _react2['default'].PropTypes.func, // input keyDown handler: function (event) {}\n\t\tonMenuScrollToBottom: _react2['default'].PropTypes.func, // fires when the menu is scrolled to the bottom; can be used to paginate options\n\t\tonOpen: _react2['default'].PropTypes.func, // fires when the menu is opened\n\t\tonValueClick: _react2['default'].PropTypes.func, // onClick handler for value labels: function (value, event) {}\n\t\topenAfterFocus: _react2['default'].PropTypes.bool, // boolean to enable opening dropdown when focused\n\t\topenOnFocus: _react2['default'].PropTypes.bool, // always open options menu on focus\n\t\toptionClassName: _react2['default'].PropTypes.string, // additional class(es) to apply to the <Option /> elements\n\t\toptionComponent: _react2['default'].PropTypes.func, // option component to render in dropdown\n\t\toptionGroupComponent: _react2['default'].PropTypes.func, // option group component to render in dropdown\n\t\toptionRenderer: _react2['default'].PropTypes.func, // optionRenderer: function (option) {}\n\t\toptions: _react2['default'].PropTypes.array, // array of options\n\t\tpageSize: _react2['default'].PropTypes.number, // number of entries to page when using page up/down keys\n\t\tplaceholder: stringOrNode, // field placeholder, displayed when there's no value\n\t\trenderInvalidValues: _react2['default'].PropTypes.bool, // boolean to enable rendering values that do not match any options\n\t\trequired: _react2['default'].PropTypes.bool, // applies HTML5 required attribute when needed\n\t\tresetValue: _react2['default'].PropTypes.any, // value to use when you clear the control\n\t\tscrollMenuIntoView: _react2['default'].PropTypes.bool, // boolean to enable the viewport to shift so that the full menu fully visible when engaged\n\t\tsearchable: _react2['default'].PropTypes.bool, // whether to enable searching feature or not\n\t\tsimpleValue: _react2['default'].PropTypes.bool, // pass the value to onChange as a simple value (legacy pre 1.0 mode), defaults to false\n\t\tstyle: _react2['default'].PropTypes.object, // optional style to apply to the control\n\t\ttabIndex: _react2['default'].PropTypes.string, // optional tab index of the control\n\t\ttabSelectsValue: _react2['default'].PropTypes.bool, // whether to treat tabbing out while focused to be value selection\n\t\tvalue: _react2['default'].PropTypes.any, // initial field value\n\t\tvalueComponent: _react2['default'].PropTypes.func, // value component to render\n\t\tvalueKey: _react2['default'].PropTypes.string, // path of the label value in option objects\n\t\tvalueRenderer: _react2['default'].PropTypes.func, // valueRenderer: function (option) {}\n\t\twrapperStyle: _react2['default'].PropTypes.object },\n\n\t// optional style to apply to the component wrapper\n\tstatics: { Async: _Async2['default'], AsyncCreatable: _AsyncCreatable2['default'], Creatable: _Creatable2['default'] },\n\n\tgetDefaultProps: function getDefaultProps() {\n\t\treturn {\n\t\t\taddLabelText: 'Add \"{label}\"?',\n\t\t\tarrowRenderer: _utilsDefaultArrowRenderer2['default'],\n\t\t\tautosize: true,\n\t\t\tbackspaceRemoves: true,\n\t\t\tbackspaceToRemoveMessage: 'Press backspace to remove {label}',\n\t\t\tclearable: true,\n\t\t\tclearAllText: 'Clear all',\n\t\t\tclearRenderer: _utilsDefaultClearRenderer2['default'],\n\t\t\tclearValueText: 'Clear value',\n\t\t\tdeleteRemoves: true,\n\t\t\tdelimiter: ',',\n\t\t\tdisabled: false,\n\t\t\tdropdownComponent: _Dropdown2['default'],\n\t\t\tescapeClearsValue: true,\n\t\t\tfilterOptions: _utilsDefaultFilterOptions2['default'],\n\t\t\tignoreAccents: true,\n\t\t\tignoreCase: true,\n\t\t\tinputProps: {},\n\t\t\tisLoading: false,\n\t\t\tjoinValues: false,\n\t\t\tlabelKey: 'label',\n\t\t\tmatchPos: 'any',\n\t\t\tmatchProp: 'any',\n\t\t\tmenuBuffer: 0,\n\t\t\tmenuRenderer: _utilsDefaultMenuRenderer2['default'],\n\t\t\tmulti: false,\n\t\t\tnoResultsText: 'No results found',\n\t\t\tonBlurResetsInput: true,\n\t\t\tonCloseResetsInput: true,\n\t\t\topenAfterFocus: false,\n\t\t\toptionComponent: _Option2['default'],\n\t\t\toptionGroupComponent: _OptionGroup2['default'],\n\t\t\tpageSize: 5,\n\t\t\tplaceholder: 'Select...',\n\t\t\trenderInvalidValues: false,\n\t\t\trequired: false,\n\t\t\tscrollMenuIntoView: true,\n\t\t\tsearchable: true,\n\t\t\tsimpleValue: false,\n\t\t\ttabSelectsValue: true,\n\t\t\tvalueComponent: _Value2['default'],\n\t\t\tvalueKey: 'value'\n\t\t};\n\t},\n\n\tgetInitialState: function getInitialState() {\n\t\treturn {\n\t\t\tinputValue: '',\n\t\t\tisFocused: false,\n\t\t\tisOpen: this.props.isOpen != null ? this.props.isOpen : false,\n\t\t\tisPseudoFocused: false,\n\t\t\trequired: false\n\t\t};\n\t},\n\n\tcomponentWillMount: function componentWillMount() {\n\t\tthis._flatOptions = this.flattenOptions(this.props.options);\n\t\tthis._instancePrefix = 'react-select-' + (this.props.instanceId || ++instanceId) + '-';\n\t\tvar valueArray = this.getValueArray(this.props.value);\n\n\t\tif (this.props.required) {\n\t\t\tthis.setState({\n\t\t\t\trequired: this.handleRequired(valueArray[0], this.props.multi)\n\t\t\t});\n\t\t}\n\t},\n\n\tcomponentDidMount: function componentDidMount() {\n\t\tif (this.props.autofocus) {\n\t\t\tthis.focus();\n\t\t}\n\t},\n\n\tcomponentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n\t\tif (nextProps.options !== this.props.options) {\n\t\t\tthis._flatOptions = this.flattenOptions(nextProps.options);\n\t\t}\n\n\t\tvar valueArray = this.getValueArray(nextProps.value, nextProps);\n\n\t\tif (!nextProps.isOpen && this.props.isOpen) {\n\t\t\tthis.closeMenu();\n\t\t}\n\n\t\tif (nextProps.required) {\n\t\t\tthis.setState({\n\t\t\t\trequired: this.handleRequired(valueArray[0], nextProps.multi)\n\t\t\t});\n\t\t}\n\t},\n\n\tcomponentWillUpdate: function componentWillUpdate(nextProps, nextState) {\n\t\tif (nextState.isOpen !== this.state.isOpen) {\n\t\t\tthis.toggleTouchOutsideEvent(nextState.isOpen);\n\t\t\tvar handler = nextState.isOpen ? nextProps.onOpen : nextProps.onClose;\n\t\t\thandler && handler();\n\t\t}\n\t},\n\n\tcomponentDidUpdate: function componentDidUpdate(prevProps, prevState) {\n\t\t// focus to the selected option\n\t\tif (this.menu && this.focused && this.state.isOpen && !this.hasScrolledToOption) {\n\t\t\tvar focusedOptionNode = _reactDom2['default'].findDOMNode(this.focused);\n\t\t\tvar focusedOptionPreviousSibling = focusedOptionNode.previousSibling;\n\t\t\tvar focusedOptionParent = focusedOptionNode.parentElement;\n\t\t\tvar menuNode = _reactDom2['default'].findDOMNode(this.menu);\n\t\t\tif (focusedOptionPreviousSibling) {\n\t\t\t\tmenuNode.scrollTop = focusedOptionPreviousSibling.offsetTop;\n\t\t\t} else if (focusedOptionParent && focusedOptionParent === 'Select-menu') {\n\t\t\t\tmenuNode.scrollTop = focusedOptionParent.offsetTop;\n\t\t\t} else {\n\t\t\t\tmenuNode.scrollTop = focusedOptionNode.offsetTop;\n\t\t\t}\n\t\t\tvar paddingTop = parseInt(window.getComputedStyle(menuNode, null).paddingTop, 10);\n\t\t\tif (menuNode.scrollTop <= paddingTop) menuNode.scrollTop = 0;\n\t\t\tthis.hasScrolledToOption = true;\n\t\t} else if (!this.state.isOpen) {\n\t\t\tthis.hasScrolledToOption = false;\n\t\t}\n\n\t\tif (this._scrollToFocusedOptionOnUpdate && this.focused && this.menu) {\n\t\t\tthis._scrollToFocusedOptionOnUpdate = false;\n\t\t\tvar focusedDOM = _reactDom2['default'].findDOMNode(this.focused);\n\t\t\tvar menuDOM = _reactDom2['default'].findDOMNode(this.menu);\n\t\t\tvar focusedRect = focusedDOM.getBoundingClientRect();\n\t\t\tvar menuRect = menuDOM.getBoundingClientRect();\n\t\t\tif (focusedRect.bottom > menuRect.bottom || focusedRect.top < menuRect.top) {\n\t\t\t\tmenuDOM.scrollTop = focusedDOM.offsetTop + focusedDOM.clientHeight - menuDOM.offsetHeight;\n\t\t\t}\n\t\t}\n\t\tif (this.props.scrollMenuIntoView && this.menuContainer) {\n\t\t\tvar menuContainerRect = this.menuContainer.getBoundingClientRect();\n\t\t\tif (window.innerHeight < menuContainerRect.bottom + this.props.menuBuffer) {\n\t\t\t\twindow.scrollBy(0, menuContainerRect.bottom + this.props.menuBuffer - window.innerHeight);\n\t\t\t}\n\t\t}\n\t\tif (prevProps.disabled !== this.props.disabled) {\n\t\t\tthis.setState({ isFocused: false }); // eslint-disable-line react/no-did-update-set-state\n\t\t\tthis.closeMenu();\n\t\t}\n\t},\n\n\tcomponentWillUnmount: function componentWillUnmount() {\n\t\tif (!document.removeEventListener && document.detachEvent) {\n\t\t\tdocument.detachEvent('ontouchstart', this.handleTouchOutside);\n\t\t} else {\n\t\t\tdocument.removeEventListener('touchstart', this.handleTouchOutside);\n\t\t}\n\t},\n\n\ttoggleTouchOutsideEvent: function toggleTouchOutsideEvent(enabled) {\n\t\tif (enabled) {\n\t\t\tif (!document.addEventListener && document.attachEvent) {\n\t\t\t\tdocument.attachEvent('ontouchstart', this.handleTouchOutside);\n\t\t\t} else {\n\t\t\t\tdocument.addEventListener('touchstart', this.handleTouchOutside);\n\t\t\t}\n\t\t} else {\n\t\t\tif (!document.removeEventListener && document.detachEvent) {\n\t\t\t\tdocument.detachEvent('ontouchstart', this.handleTouchOutside);\n\t\t\t} else {\n\t\t\t\tdocument.removeEventListener('touchstart', this.handleTouchOutside);\n\t\t\t}\n\t\t}\n\t},\n\n\thandleTouchOutside: function handleTouchOutside(event) {\n\t\t// handle touch outside on ios to dismiss menu\n\t\tif (this.wrapper && !this.wrapper.contains(event.target) && this.menuContainer && !this.menuContainer.contains(event.target)) {\n\t\t\tthis.closeMenu();\n\t\t}\n\t},\n\n\tfocus: function focus() {\n\t\tif (!this.input) return;\n\t\tthis.input.focus();\n\n\t\tif (this.props.openAfterFocus) {\n\t\t\tthis.setState({\n\t\t\t\tisOpen: true\n\t\t\t});\n\t\t}\n\t},\n\n\tblurInput: function blurInput() {\n\t\tif (!this.input) return;\n\t\tthis.input.blur();\n\t},\n\n\thandleTouchMove: function handleTouchMove(event) {\n\t\t// Set a flag that the view is being dragged\n\t\tthis.dragging = true;\n\t},\n\n\thandleTouchStart: function handleTouchStart(event) {\n\t\t// Set a flag that the view is not being dragged\n\t\tthis.dragging = false;\n\t},\n\n\thandleTouchEnd: function handleTouchEnd(event) {\n\t\t// Check if the view is being dragged, In this case\n\t\t// we don't want to fire the click event (because the user only wants to scroll)\n\t\tif (this.dragging) return;\n\n\t\t// Fire the mouse events\n\t\tthis.handleMouseDown(event);\n\t},\n\n\thandleTouchEndClearValue: function handleTouchEndClearValue(event) {\n\t\t// Check if the view is being dragged, In this case\n\t\t// we don't want to fire the click event (because the user only wants to scroll)\n\t\tif (this.dragging) return;\n\n\t\t// Clear the value\n\t\tthis.clearValue(event);\n\t},\n\n\thandleMouseDown: function handleMouseDown(event) {\n\t\t// if the event was triggered by a mousedown and not the primary\n\t\t// button, or if the component is disabled, ignore it.\n\t\tif (this.props.disabled || event.type === 'mousedown' && event.button !== 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (event.target.tagName === 'INPUT') {\n\t\t\treturn;\n\t\t}\n\n\t\t// prevent default event handlers\n\t\tevent.stopPropagation();\n\t\tevent.preventDefault();\n\n\t\t// for the non-searchable select, toggle the menu\n\t\tif (!this.props.searchable) {\n\t\t\tthis.focus();\n\t\t\treturn this.setState({\n\t\t\t\tisOpen: !this.state.isOpen\n\t\t\t});\n\t\t}\n\n\t\tif (this.state.isFocused) {\n\t\t\t// On iOS, we can get into a state where we think the input is focused but it isn't really,\n\t\t\t// since iOS ignores programmatic calls to input.focus() that weren't triggered by a click event.\n\t\t\t// Call focus() again here to be safe.\n\t\t\tthis.focus();\n\n\t\t\tvar input = this.input;\n\t\t\tif (typeof input.getInput === 'function') {\n\t\t\t\t// Get the actual DOM input if the ref is an <AutosizeInput /> component\n\t\t\t\tinput = input.getInput();\n\t\t\t}\n\n\t\t\t// clears the value so that the cursor will be at the end of input when the component re-renders\n\t\t\tinput.value = '';\n\n\t\t\t// if the input is focused, ensure the menu is open\n\t\t\tthis.setState({\n\t\t\t\tisOpen: true,\n\t\t\t\tisPseudoFocused: false\n\t\t\t});\n\t\t} else {\n\t\t\t// otherwise, focus the input and open the menu\n\t\t\tthis._openAfterFocus = this.props.openOnFocus;\n\t\t\tthis.focus();\n\t\t}\n\t},\n\n\thandleMouseDownOnArrow: function handleMouseDownOnArrow(event) {\n\t\t// if the event was triggered by a mousedown and not the primary\n\t\t// button, or if the component is disabled, ignore it.\n\t\tif (this.props.disabled || event.type === 'mousedown' && event.button !== 0) {\n\t\t\treturn;\n\t\t}\n\t\t// If the menu isn't open, let the event bubble to the main handleMouseDown\n\t\tif (!this.state.isOpen) {\n\t\t\treturn;\n\t\t}\n\t\t// prevent default event handlers\n\t\tevent.stopPropagation();\n\t\tevent.preventDefault();\n\t\t// close the menu\n\t\tthis.closeMenu();\n\t},\n\n\thandleMouseDownOnMenu: function handleMouseDownOnMenu(event) {\n\t\t// if the event was triggered by a mousedown and not the primary\n\t\t// button, or if the component is disabled, ignore it.\n\t\tif (this.props.disabled || event.type === 'mousedown' && event.button !== 0) {\n\t\t\treturn;\n\t\t}\n\t\tevent.stopPropagation();\n\t\tevent.preventDefault();\n\n\t\tthis._openAfterFocus = true;\n\t\tthis.focus();\n\t},\n\n\tcloseMenu: function closeMenu() {\n\t\tvar _this = this;\n\n\t\tif (this.props.onCloseResetsInput) {\n\t\t\tthis.setState({\n\t\t\t\tisOpen: false,\n\t\t\t\tisPseudoFocused: this.state.isFocused && !this.props.multi,\n\t\t\t\tinputValue: ''\n\t\t\t}, function () {\n\t\t\t\tif (_this.props.onInputChange) _this.props.onInputChange('');\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\tisOpen: false,\n\t\t\t\tisPseudoFocused: this.state.isFocused && !this.props.multi,\n\t\t\t\tinputValue: this.state.inputValue\n\t\t\t});\n\t\t}\n\t\tthis.hasScrolledToOption = false;\n\t},\n\n\thandleInputFocus: function handleInputFocus(event) {\n\t\tif (this.props.disabled) return;\n\t\tvar isOpen = this.state.isOpen || this._openAfterFocus || this.props.openOnFocus;\n\t\tif (this.props.onFocus) {\n\t\t\tthis.props.onFocus(event);\n\t\t}\n\t\tthis.setState({\n\t\t\tisFocused: true,\n\t\t\tisOpen: isOpen\n\t\t});\n\t\tthis._openAfterFocus = false;\n\t},\n\n\thandleInputBlur: function handleInputBlur(event) {\n\t\t// The check for menu.contains(activeElement) is necessary to prevent IE11's scrollbar from closing the menu in certain contexts.\n\t\tif (this.menu && (this.menu === document.activeElement || this.menu.contains(document.activeElement))) {\n\t\t\tthis.focus();\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.props.onBlur) {\n\t\t\tthis.props.onBlur(event);\n\t\t}\n\t\tvar onBlurredState = {\n\t\t\tisFocused: false,\n\t\t\tisOpen: false,\n\t\t\tisPseudoFocused: false\n\t\t};\n\t\tif (this.props.onBlurResetsInput) {\n\t\t\tonBlurredState.inputValue = '';\n\t\t}\n\t\tthis.setState(onBlurredState);\n\t},\n\n\thandleInputChange: function handleInputChange(event) {\n\t\tvar newInputValue = event.target.value;\n\n\t\tif (this.state.inputValue !== event.target.value && this.props.onInputChange) {\n\t\t\tvar nextState = this.props.onInputChange(newInputValue);\n\t\t\t// Note: != used deliberately here to catch undefined and null\n\t\t\tif (nextState != null && typeof nextState !== 'object') {\n\t\t\t\tnewInputValue = '' + nextState;\n\t\t\t}\n\t\t}\n\n\t\tthis.setState({\n\t\t\tisOpen: true,\n\t\t\tisPseudoFocused: false,\n\t\t\tinputValue: newInputValue\n\t\t});\n\t},\n\n\thandleKeyDown: function handleKeyDown(event) {\n\t\tif (this.props.disabled) return;\n\n\t\tif (typeof this.props.onInputKeyDown === 'function') {\n\t\t\tthis.props.onInputKeyDown(event);\n\t\t\tif (event.defaultPrevented) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tswitch (event.keyCode) {\n\t\t\tcase 8:\n\t\t\t\t// backspace\n\t\t\t\tif (!this.state.inputValue && this.props.backspaceRemoves) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tthis.popValue();\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\tcase 9:\n\t\t\t\t// tab\n\t\t\t\tif (event.shiftKey || !this.state.isOpen || !this.props.tabSelectsValue) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.selectFocusedOption();\n\t\t\t\treturn;\n\t\t\tcase 13:\n\t\t\t\t// enter\n\t\t\t\tif (!this.state.isOpen) {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tisOpen: true\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t};\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tthis.selectFocusedOption();\n\t\t\t\tbreak;\n\t\t\tcase 27:\n\t\t\t\t// escape\n\t\t\t\tif (this.state.isOpen) {\n\t\t\t\t\tthis.closeMenu();\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t} else if (this.props.clearable && this.props.escapeClearsValue) {\n\t\t\t\t\tthis.clearValue(event);\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 38:\n\t\t\t\t// up\n\t\t\t\tthis.focusPreviousOption();\n\t\t\t\tbreak;\n\t\t\tcase 40:\n\t\t\t\t// down\n\t\t\t\tthis.focusNextOption();\n\t\t\t\tbreak;\n\t\t\tcase 33:\n\t\t\t\t// page up\n\t\t\t\tthis.focusPageUpOption();\n\t\t\t\tbreak;\n\t\t\tcase 34:\n\t\t\t\t// page down\n\t\t\t\tthis.focusPageDownOption();\n\t\t\t\tbreak;\n\t\t\tcase 35:\n\t\t\t\t// end key\n\t\t\t\tif (event.shiftKey) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.focusEndOption();\n\t\t\t\tbreak;\n\t\t\tcase 36:\n\t\t\t\t// home key\n\t\t\t\tif (event.shiftKey) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.focusStartOption();\n\t\t\t\tbreak;\n\t\t\tcase 46:\n\t\t\t\t// backspace\n\t\t\t\tif (!this.state.inputValue && this.props.deleteRemoves) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tthis.popValue();\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t\tevent.preventDefault();\n\t},\n\n\thandleValueClick: function handleValueClick(option, event) {\n\t\tif (!this.props.onValueClick) return;\n\t\tthis.props.onValueClick(option, event);\n\t},\n\n\thandleMenuScroll: function handleMenuScroll(event) {\n\t\tif (!this.props.onMenuScrollToBottom) return;\n\t\tvar target = event.target;\n\n\t\tif (target.scrollHeight > target.offsetHeight && !(target.scrollHeight - target.offsetHeight - target.scrollTop)) {\n\t\t\tthis.props.onMenuScrollToBottom();\n\t\t}\n\t},\n\n\thandleRequired: function handleRequired(value, multi) {\n\t\tif (!value) return true;\n\t\treturn multi ? value.length === 0 : Object.keys(value).length === 0;\n\t},\n\n\tgetOptionLabel: function getOptionLabel(op) {\n\t\treturn op[this.props.labelKey];\n\t},\n\n\t/**\n  * Turns a value into an array from the given options\n  * @param\t{String|Number|Array}\tvalue\t\t- the value of the select input\n  * @param\t{Object}\t\tnextProps\t- optionally specify the nextProps so the returned array uses the latest configuration\n  * @returns\t{Array}\tthe value of the select represented in an array\n  */\n\tgetValueArray: function getValueArray(value, nextProps) {\n\t\tvar _this2 = this;\n\n\t\t/** support optionally passing in the `nextProps` so `componentWillReceiveProps` updates will function as expected */\n\t\tvar props = typeof nextProps === 'object' ? nextProps : this.props;\n\t\tif (props.multi) {\n\t\t\tif (typeof value === 'string') value = value.split(props.delimiter);\n\t\t\tif (!Array.isArray(value)) {\n\t\t\t\tif (value === null || value === undefined) return [];\n\t\t\t\tvalue = [value];\n\t\t\t}\n\t\t\treturn value.map(function (value) {\n\t\t\t\treturn _this2.expandValue(value, props);\n\t\t\t}).filter(function (i) {\n\t\t\t\treturn i;\n\t\t\t});\n\t\t}\n\t\tvar expandedValue = this.expandValue(value, props);\n\t\treturn expandedValue ? [expandedValue] : [];\n\t},\n\n\t/**\n  * Retrieve a value from the given options and valueKey\n  * @param\t{String|Number|Array}\tvalue\t- the selected value(s)\n  * @param\t{Object}\t\tprops\t- the Select component's props (or nextProps)\n  */\n\texpandValue: function expandValue(value, props) {\n\t\tvar valueType = typeof value;\n\t\tif (valueType !== 'string' && valueType !== 'number' && valueType !== 'boolean') return value;\n\t\tvar _props = this.props;\n\t\tvar labelKey = _props.labelKey;\n\t\tvar valueKey = _props.valueKey;\n\t\tvar renderInvalidValues = _props.renderInvalidValues;\n\n\t\tvar options = this._flatOptions;\n\t\tif (!options || value === '') return;\n\t\tfor (var i = 0; i < options.length; i++) {\n\t\t\tif (options[i][valueKey] === value) return options[i];\n\t\t}\n\n\t\t// no matching option, return an invalid option if renderInvalidValues is enabled\n\t\tif (renderInvalidValues) {\n\t\t\tvar _ref;\n\n\t\t\tinvalidOptions[value] = invalidOptions[value] || (_ref = {\n\t\t\t\tinvalid: true\n\t\t\t}, _defineProperty(_ref, labelKey, value), _defineProperty(_ref, valueKey, value), _ref);\n\t\t\treturn invalidOptions[value];\n\t\t}\n\t},\n\n\tsetValue: function setValue(value) {\n\t\tvar _this3 = this;\n\n\t\tif (this.props.autoBlur) {\n\t\t\tthis.blurInput();\n\t\t}\n\t\tif (!this.props.onChange) return;\n\t\tif (this.props.required) {\n\t\t\tvar required = this.handleRequired(value, this.props.multi);\n\t\t\tthis.setState({ required: required });\n\t\t}\n\t\tif (this.props.simpleValue && value) {\n\t\t\tvalue = this.props.multi ? value.map(function (i) {\n\t\t\t\treturn i[_this3.props.valueKey];\n\t\t\t}).join(this.props.delimiter) : value[this.props.valueKey];\n\t\t}\n\t\tthis.props.onChange(value);\n\t},\n\n\tselectValue: function selectValue(value) {\n\t\tvar _this4 = this;\n\n\t\t//NOTE: update value in the callback to make sure the input value is empty so that there are no styling issues (Chrome had issue otherwise)\n\t\tthis.hasScrolledToOption = false;\n\t\tif (this.props.multi) {\n\t\t\tthis.setState({\n\t\t\t\tinputValue: '',\n\t\t\t\tfocusedIndex: null\n\t\t\t}, function () {\n\t\t\t\t_this4.addValue(value);\n\t\t\t\tif (_this4.props.onInputChange) _this4.props.onInputChange('');\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\tisOpen: false,\n\t\t\t\tinputValue: '',\n\t\t\t\tisPseudoFocused: this.state.isFocused\n\t\t\t}, function () {\n\t\t\t\t_this4.setValue(value);\n\t\t\t\tif (_this4.props.onInputChange) _this4.props.onInputChange('');\n\t\t\t});\n\t\t}\n\t},\n\n\taddValue: function addValue(value) {\n\t\tvar valueArray = this.getValueArray(this.props.value);\n\t\tvar visibleOptions = this._visibleOptions.filter(function (val) {\n\t\t\treturn !val.disabled;\n\t\t});\n\t\tvar lastValueIndex = visibleOptions.indexOf(value);\n\t\tthis.setValue(valueArray.concat(value));\n\t\tif (visibleOptions.length - 1 === lastValueIndex) {\n\t\t\t// the last option was selected; focus the second-last one\n\t\t\tthis.focusOption(visibleOptions[lastValueIndex - 1]);\n\t\t} else if (visibleOptions.length > lastValueIndex) {\n\t\t\t// focus the option below the selected one\n\t\t\tthis.focusOption(visibleOptions[lastValueIndex + 1]);\n\t\t}\n\t},\n\n\tpopValue: function popValue() {\n\t\tvar valueArray = this.getValueArray(this.props.value);\n\t\tif (!valueArray.length) return;\n\t\tif (valueArray[valueArray.length - 1].clearableValue === false) return;\n\t\tthis.setValue(valueArray.slice(0, valueArray.length - 1));\n\t},\n\n\tremoveValue: function removeValue(value) {\n\t\tvar valueArray = this.getValueArray(this.props.value);\n\t\tthis.setValue(valueArray.filter(function (i) {\n\t\t\treturn i !== value;\n\t\t}));\n\t},\n\n\tclearValue: function clearValue(event) {\n\t\tvar _this5 = this;\n\n\t\t// if the event was triggered by a mousedown and not the primary\n\t\t// button, ignore it.\n\t\tif (event && event.type === 'mousedown' && event.button !== 0) {\n\t\t\treturn;\n\t\t}\n\t\tevent.stopPropagation();\n\t\tevent.preventDefault();\n\t\tthis.setValue(this.getResetValue());\n\t\tthis.setState({\n\t\t\tisOpen: false,\n\t\t\tinputValue: ''\n\t\t}, function () {\n\t\t\t_this5.focus();\n\t\t\tif (_this5.props.onInputChange) _this5.props.onInputChange('');\n\t\t});\n\t},\n\n\tgetResetValue: function getResetValue() {\n\t\tif (this.props.resetValue !== undefined) {\n\t\t\treturn this.props.resetValue;\n\t\t} else if (this.props.multi) {\n\t\t\treturn [];\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t},\n\n\tfocusOption: function focusOption(option) {\n\t\tthis.setState({\n\t\t\tfocusedOption: option\n\t\t});\n\t},\n\n\tfocusNextOption: function focusNextOption() {\n\t\tthis.focusAdjacentOption('next');\n\t},\n\n\tfocusPreviousOption: function focusPreviousOption() {\n\t\tthis.focusAdjacentOption('previous');\n\t},\n\n\tfocusPageUpOption: function focusPageUpOption() {\n\t\tthis.focusAdjacentOption('page_up');\n\t},\n\n\tfocusPageDownOption: function focusPageDownOption() {\n\t\tthis.focusAdjacentOption('page_down');\n\t},\n\n\tfocusStartOption: function focusStartOption() {\n\t\tthis.focusAdjacentOption('start');\n\t},\n\n\tfocusEndOption: function focusEndOption() {\n\t\tthis.focusAdjacentOption('end');\n\t},\n\n\tfocusAdjacentOption: function focusAdjacentOption(dir) {\n\t\tvar _this6 = this;\n\n\t\tvar options = this._visibleOptions.map(function (option, index) {\n\t\t\treturn { option: option, index: index };\n\t\t}).filter(function (option) {\n\t\t\treturn !option.option.disabled;\n\t\t});\n\t\tthis._scrollToFocusedOptionOnUpdate = true;\n\t\tif (!this.state.isOpen) {\n\t\t\tthis.setState({\n\t\t\t\tisOpen: true,\n\t\t\t\tinputValue: '',\n\t\t\t\tfocusedOption: this._focusedOption || (options.length ? options[dir === 'next' ? 0 : options.length - 1].option : null)\n\t\t\t}, function () {\n\t\t\t\tif (_this6.props.onInputChange) _this6.props.onInputChange('');\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\tif (!options.length) return;\n\t\tvar focusedIndex = -1;\n\t\tfor (var i = 0; i < options.length; i++) {\n\t\t\tif (this._focusedOption === options[i].option) {\n\t\t\t\tfocusedIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (dir === 'next' && focusedIndex !== -1) {\n\t\t\tfocusedIndex = (focusedIndex + 1) % options.length;\n\t\t} else if (dir === 'previous') {\n\t\t\tif (focusedIndex > 0) {\n\t\t\t\tfocusedIndex = focusedIndex - 1;\n\t\t\t} else {\n\t\t\t\tfocusedIndex = options.length - 1;\n\t\t\t}\n\t\t} else if (dir === 'start') {\n\t\t\tfocusedIndex = 0;\n\t\t} else if (dir === 'end') {\n\t\t\tfocusedIndex = options.length - 1;\n\t\t} else if (dir === 'page_up') {\n\t\t\tvar potentialIndex = focusedIndex - this.props.pageSize;\n\t\t\tif (potentialIndex < 0) {\n\t\t\t\tfocusedIndex = 0;\n\t\t\t} else {\n\t\t\t\tfocusedIndex = potentialIndex;\n\t\t\t}\n\t\t} else if (dir === 'page_down') {\n\t\t\tvar potentialIndex = focusedIndex + this.props.pageSize;\n\t\t\tif (potentialIndex > options.length - 1) {\n\t\t\t\tfocusedIndex = options.length - 1;\n\t\t\t} else {\n\t\t\t\tfocusedIndex = potentialIndex;\n\t\t\t}\n\t\t}\n\n\t\tif (focusedIndex === -1) {\n\t\t\tfocusedIndex = 0;\n\t\t}\n\n\t\tthis.setState({\n\t\t\tfocusedIndex: options[focusedIndex].index,\n\t\t\tfocusedOption: options[focusedIndex].option\n\t\t});\n\t},\n\n\tgetFocusedOption: function getFocusedOption() {\n\t\treturn this._focusedOption;\n\t},\n\n\tgetInputValue: function getInputValue() {\n\t\treturn this.state.inputValue;\n\t},\n\n\tselectFocusedOption: function selectFocusedOption() {\n\t\tif (this._focusedOption) {\n\t\t\treturn this.selectValue(this._focusedOption);\n\t\t}\n\t},\n\n\trenderLoading: function renderLoading() {\n\t\tif (!this.props.isLoading) return;\n\t\treturn _react2['default'].createElement(\n\t\t\t'span',\n\t\t\t{ className: 'Select-loading-zone', 'aria-hidden': 'true' },\n\t\t\t_react2['default'].createElement('span', { className: 'Select-loading' })\n\t\t);\n\t},\n\n\trenderValue: function renderValue(valueArray, isOpen) {\n\t\tvar _this7 = this;\n\n\t\tvar renderLabel = this.props.valueRenderer || this.getOptionLabel;\n\t\tvar ValueComponent = this.props.valueComponent;\n\t\tif (!valueArray.length) {\n\t\t\treturn !this.state.inputValue ? _react2['default'].createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'Select-placeholder' },\n\t\t\t\tthis.props.placeholder\n\t\t\t) : null;\n\t\t}\n\t\tvar onClick = this.props.onValueClick ? this.handleValueClick : null;\n\t\tif (this.props.multi) {\n\t\t\treturn valueArray.map(function (value, i) {\n\t\t\t\treturn _react2['default'].createElement(\n\t\t\t\t\tValueComponent,\n\t\t\t\t\t{\n\t\t\t\t\t\tid: _this7._instancePrefix + '-value-' + i,\n\t\t\t\t\t\tinstancePrefix: _this7._instancePrefix,\n\t\t\t\t\t\tdisabled: _this7.props.disabled || value.clearableValue === false,\n\t\t\t\t\t\tkey: 'value-' + i + '-' + value[_this7.props.valueKey],\n\t\t\t\t\t\tonClick: onClick,\n\t\t\t\t\t\tonRemove: _this7.removeValue,\n\t\t\t\t\t\tvalue: value\n\t\t\t\t\t},\n\t\t\t\t\trenderLabel(value, i),\n\t\t\t\t\t_react2['default'].createElement(\n\t\t\t\t\t\t'span',\n\t\t\t\t\t\t{ className: 'Select-aria-only' },\n\t\t\t\t\t\t'Â '\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t});\n\t\t} else if (!this.state.inputValue) {\n\t\t\tif (isOpen) onClick = null;\n\t\t\treturn _react2['default'].createElement(\n\t\t\t\tValueComponent,\n\t\t\t\t{\n\t\t\t\t\tid: this._instancePrefix + '-value-item',\n\t\t\t\t\tdisabled: this.props.disabled,\n\t\t\t\t\tinstancePrefix: this._instancePrefix,\n\t\t\t\t\tonClick: onClick,\n\t\t\t\t\tvalue: valueArray[0]\n\t\t\t\t},\n\t\t\t\trenderLabel(valueArray[0])\n\t\t\t);\n\t\t}\n\t},\n\n\trenderInput: function renderInput(valueArray, focusedOptionIndex) {\n\t\tvar _classNames,\n\t\t    _this8 = this;\n\n\t\tvar className = (0, _classnames2['default'])('Select-input', this.props.inputProps.className);\n\t\tvar isOpen = !!this.state.isOpen;\n\n\t\tvar ariaOwns = (0, _classnames2['default'])((_classNames = {}, _defineProperty(_classNames, this._instancePrefix + '-list', isOpen), _defineProperty(_classNames, this._instancePrefix + '-backspace-remove-message', this.props.multi && !this.props.disabled && this.state.isFocused && !this.state.inputValue), _classNames));\n\n\t\t// TODO: Check how this project includes Object.assign()\n\t\tvar inputProps = _extends({}, this.props.inputProps, {\n\t\t\trole: 'combobox',\n\t\t\t'aria-expanded': '' + isOpen,\n\t\t\t'aria-owns': ariaOwns,\n\t\t\t'aria-haspopup': '' + isOpen,\n\t\t\t'aria-activedescendant': isOpen ? this._instancePrefix + '-option-' + focusedOptionIndex : this._instancePrefix + '-value',\n\t\t\t'aria-describedby': this.props['aria-describedby'],\n\t\t\t'aria-labelledby': this.props['aria-labelledby'],\n\t\t\t'aria-label': this.props['aria-label'],\n\t\t\tclassName: className,\n\t\t\ttabIndex: this.props.tabIndex,\n\t\t\tonBlur: this.handleInputBlur,\n\t\t\tonChange: this.handleInputChange,\n\t\t\tonFocus: this.handleInputFocus,\n\t\t\tref: function ref(_ref2) {\n\t\t\t\treturn _this8.input = _ref2;\n\t\t\t},\n\t\t\trequired: this.state.required,\n\t\t\tvalue: this.state.inputValue\n\t\t});\n\n\t\tif (this.props.inputRenderer) {\n\t\t\treturn this.props.inputRenderer(inputProps);\n\t\t}\n\n\t\tif (this.props.disabled || !this.props.searchable) {\n\t\t\tvar _props$inputProps = this.props.inputProps;\n\t\t\tvar inputClassName = _props$inputProps.inputClassName;\n\n\t\t\tvar divProps = _objectWithoutProperties(_props$inputProps, ['inputClassName']);\n\n\t\t\treturn _react2['default'].createElement('div', _extends({}, divProps, {\n\t\t\t\trole: 'combobox',\n\t\t\t\t'aria-expanded': isOpen,\n\t\t\t\t'aria-owns': isOpen ? this._instancePrefix + '-list' : this._instancePrefix + '-value',\n\t\t\t\t'aria-activedescendant': isOpen ? this._instancePrefix + '-option-' + focusedOptionIndex : this._instancePrefix + '-value',\n\t\t\t\tclassName: className,\n\t\t\t\ttabIndex: this.props.tabIndex || 0,\n\t\t\t\tonBlur: this.handleInputBlur,\n\t\t\t\tonFocus: this.handleInputFocus,\n\t\t\t\tref: function (ref) {\n\t\t\t\t\treturn _this8.input = ref;\n\t\t\t\t},\n\t\t\t\t'aria-readonly': '' + !!this.props.disabled,\n\t\t\t\tstyle: { border: 0, width: 1, display: 'inline-block' } }));\n\t\t}\n\n\t\tif (this.props.autosize) {\n\t\t\treturn _react2['default'].createElement(_reactInputAutosize2['default'], _extends({}, inputProps, { minWidth: '5' }));\n\t\t}\n\t\treturn _react2['default'].createElement(\n\t\t\t'div',\n\t\t\t{ className: className },\n\t\t\t_react2['default'].createElement('input', inputProps)\n\t\t);\n\t},\n\n\trenderClear: function renderClear() {\n\t\tif (!this.props.clearable || !this.props.value || this.props.value === 0 || this.props.multi && !this.props.value.length || this.props.disabled || this.props.isLoading) return;\n\t\tvar clear = this.props.clearRenderer();\n\n\t\treturn _react2['default'].createElement(\n\t\t\t'span',\n\t\t\t{ className: 'Select-clear-zone', title: this.props.multi ? this.props.clearAllText : this.props.clearValueText,\n\t\t\t\t'aria-label': this.props.multi ? this.props.clearAllText : this.props.clearValueText,\n\t\t\t\tonMouseDown: this.clearValue,\n\t\t\t\tonTouchStart: this.handleTouchStart,\n\t\t\t\tonTouchMove: this.handleTouchMove,\n\t\t\t\tonTouchEnd: this.handleTouchEndClearValue\n\t\t\t},\n\t\t\tclear\n\t\t);\n\t},\n\n\trenderArrow: function renderArrow() {\n\t\tvar onMouseDown = this.handleMouseDownOnArrow;\n\t\tvar isOpen = this.state.isOpen;\n\t\tvar arrow = this.props.arrowRenderer({ onMouseDown: onMouseDown, isOpen: isOpen });\n\n\t\treturn _react2['default'].createElement(\n\t\t\t'span',\n\t\t\t{\n\t\t\t\tclassName: 'Select-arrow-zone',\n\t\t\t\tonMouseDown: onMouseDown\n\t\t\t},\n\t\t\tarrow\n\t\t);\n\t},\n\n\tfilterFlatOptions: function filterFlatOptions(excludeOptions) {\n\t\tvar filterValue = this.state.inputValue;\n\t\tvar flatOptions = this._flatOptions;\n\t\tif (this.props.filterOptions) {\n\t\t\t// Maintain backwards compatibility with boolean attribute\n\t\t\tvar filterOptions = typeof this.props.filterOptions === 'function' ? this.props.filterOptions : _utilsDefaultFilterOptions2['default'];\n\n\t\t\treturn filterOptions(flatOptions, filterValue, excludeOptions, {\n\t\t\t\tfilterOption: this.props.filterOption,\n\t\t\t\tignoreAccents: this.props.ignoreAccents,\n\t\t\t\tignoreCase: this.props.ignoreCase,\n\t\t\t\tlabelKey: this.props.labelKey,\n\t\t\t\tmatchPos: this.props.matchPos,\n\t\t\t\tmatchProp: this.props.matchProp,\n\t\t\t\tvalueKey: this.props.valueKey\n\t\t\t});\n\t\t} else {\n\t\t\treturn flatOptions;\n\t\t}\n\t},\n\n\tflattenOptions: function flattenOptions(options, group) {\n\t\tif (!options) return [];\n\t\tvar flatOptions = [];\n\t\tfor (var i = 0; i < options.length; i++) {\n\t\t\t// We clone each option with a pointer to its parent group for efficient unflattening\n\t\t\tvar optionCopy = clone(options[i]);\n\t\t\toptionCopy.isInTree = false;\n\t\t\tif (group) {\n\t\t\t\toptionCopy.group = group;\n\t\t\t}\n\t\t\tif (isGroup(optionCopy)) {\n\t\t\t\tflatOptions = flatOptions.concat(this.flattenOptions(optionCopy.options, optionCopy));\n\t\t\t\toptionCopy.options = [];\n\t\t\t} else {\n\t\t\t\tflatOptions.push(optionCopy);\n\t\t\t}\n\t\t}\n\t\treturn flatOptions;\n\t},\n\n\tunflattenOptions: function unflattenOptions(flatOptions) {\n\t\tvar groupedOptions = [];\n\t\tvar parent = undefined,\n\t\t    child = undefined;\n\n\t\t// Remove all ancestor groups from the tree\n\t\tflatOptions.forEach(function (option) {\n\t\t\toption.isInTree = false;\n\t\t\tparent = option.group;\n\t\t\twhile (parent) {\n\t\t\t\tif (parent.isInTree) {\n\t\t\t\t\tparent.options = [];\n\t\t\t\t\tparent.isInTree = false;\n\t\t\t\t}\n\t\t\t\tparent = parent.group;\n\t\t\t}\n\t\t});\n\n\t\t// Now reconstruct the options tree\n\t\tflatOptions.forEach(function (option) {\n\t\t\tchild = option;\n\t\t\tparent = child.group;\n\t\t\twhile (parent) {\n\t\t\t\tif (!child.isInTree) {\n\t\t\t\t\tparent.options.push(child);\n\t\t\t\t\tchild.isInTree = true;\n\t\t\t\t}\n\n\t\t\t\tchild = parent;\n\t\t\t\tparent = child.group;\n\t\t\t}\n\t\t\tif (!child.isInTree) {\n\t\t\t\tgroupedOptions.push(child);\n\t\t\t\tchild.isInTree = true;\n\t\t\t}\n\t\t});\n\t\treturn groupedOptions;\n\t},\n\n\tonOptionRef: function onOptionRef(ref, isFocused) {\n\t\tif (isFocused) {\n\t\t\tthis.focused = ref;\n\t\t}\n\t},\n\n\trenderMenu: function renderMenu(options, valueArray, focusedOption) {\n\t\tif (options && options.length) {\n\t\t\treturn this.props.menuRenderer({\n\t\t\t\tfocusedOption: focusedOption,\n\t\t\t\tfocusOption: this.focusOption,\n\t\t\t\tinstancePrefix: this._instancePrefix,\n\t\t\t\tlabelKey: this.props.labelKey,\n\t\t\t\tonFocus: this.focusOption,\n\t\t\t\tonOptionRef: this.onOptionRef,\n\t\t\t\tonSelect: this.selectValue,\n\t\t\t\toptionClassName: this.props.optionClassName,\n\t\t\t\toptionComponent: this.props.optionComponent,\n\t\t\t\toptionGroupComponent: this.props.optionGroupComponent,\n\t\t\t\toptionRenderer: this.props.optionRenderer || this.getOptionLabel,\n\t\t\t\toptions: options,\n\t\t\t\tselectValue: this.selectValue,\n\t\t\t\tvalueArray: valueArray,\n\t\t\t\tvalueKey: this.props.valueKey\n\t\t\t});\n\t\t} else if (this.props.noResultsText) {\n\t\t\treturn _react2['default'].createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'Select-noresults' },\n\t\t\t\tthis.props.noResultsText\n\t\t\t);\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t},\n\n\trenderHiddenField: function renderHiddenField(valueArray) {\n\t\tvar _this9 = this;\n\n\t\tif (!this.props.name) return;\n\t\tif (this.props.joinValues) {\n\t\t\tvar value = valueArray.map(function (i) {\n\t\t\t\treturn stringifyValue(i[_this9.props.valueKey]);\n\t\t\t}).join(this.props.delimiter);\n\t\t\treturn _react2['default'].createElement('input', {\n\t\t\t\ttype: 'hidden',\n\t\t\t\tref: function (ref) {\n\t\t\t\t\treturn _this9.value = ref;\n\t\t\t\t},\n\t\t\t\tname: this.props.name,\n\t\t\t\tvalue: value,\n\t\t\t\tdisabled: this.props.disabled });\n\t\t}\n\t\treturn valueArray.map(function (item, index) {\n\t\t\treturn _react2['default'].createElement('input', { key: 'hidden.' + index,\n\t\t\t\ttype: 'hidden',\n\t\t\t\tref: 'value' + index,\n\t\t\t\tname: _this9.props.name,\n\t\t\t\tvalue: stringifyValue(item[_this9.props.valueKey]),\n\t\t\t\tdisabled: _this9.props.disabled });\n\t\t});\n\t},\n\n\tgetFocusableOptionIndex: function getFocusableOptionIndex(selectedOption) {\n\t\tvar options = this._visibleOptions;\n\t\tif (!options.length) return null;\n\n\t\tvar focusedOption = this.state.focusedOption || selectedOption;\n\t\tif (focusedOption && !focusedOption.disabled) {\n\t\t\tvar focusedOptionIndex = -1;\n\t\t\toptions.some(function (option, index) {\n\t\t\t\tvar isOptionEqual = option.value === focusedOption.value;\n\t\t\t\tif (isOptionEqual) {\n\t\t\t\t\tfocusedOptionIndex = index;\n\t\t\t\t}\n\t\t\t\treturn isOptionEqual;\n\t\t\t});\n\t\t\tif (focusedOptionIndex !== -1) {\n\t\t\t\treturn focusedOptionIndex;\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0; i < options.length; i++) {\n\t\t\tif (!options[i].disabled) return i;\n\t\t}\n\t\treturn null;\n\t},\n\n\trenderOuter: function renderOuter(options, valueArray, focusedOption) {\n\t\tvar _this10 = this;\n\n\t\tvar Dropdown = this.props.dropdownComponent;\n\t\tvar menu = this.renderMenu(options, valueArray, focusedOption);\n\t\tif (!menu) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn _react2['default'].createElement(\n\t\t\tDropdown,\n\t\t\tnull,\n\t\t\t_react2['default'].createElement(\n\t\t\t\t'div',\n\t\t\t\t{ ref: function (ref) {\n\t\t\t\t\t\treturn _this10.menuContainer = ref;\n\t\t\t\t\t}, className: 'Select-menu-outer', style: this.props.menuContainerStyle },\n\t\t\t\t_react2['default'].createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ ref: function (ref) {\n\t\t\t\t\t\t\treturn _this10.menu = ref;\n\t\t\t\t\t\t}, role: 'listbox', className: 'Select-menu', id: this._instancePrefix + '-list',\n\t\t\t\t\t\tstyle: this.props.menuStyle,\n\t\t\t\t\t\tonScroll: this.handleMenuScroll,\n\t\t\t\t\t\tonMouseDown: this.handleMouseDownOnMenu },\n\t\t\t\t\tmenu\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t},\n\n\trender: function render() {\n\t\tvar _this11 = this;\n\n\t\tvar valueArray = this.getValueArray(this.props.value);\n\t\tthis._visibleOptions = this.filterFlatOptions(this.props.multi ? valueArray : null);\n\t\tvar options = this.unflattenOptions(this._visibleOptions);\n\t\tvar isOpen = typeof this.props.isOpen === 'boolean' ? this.props.isOpen : this.state.isOpen;\n\t\tvar focusedOptionIndex = this.getFocusableOptionIndex(valueArray[0]);\n\n\t\tvar focusedOption = null;\n\t\tif (focusedOptionIndex !== null) {\n\t\t\tfocusedOption = this._focusedOption = this._visibleOptions[focusedOptionIndex];\n\t\t} else {\n\t\t\tfocusedOption = this._focusedOption = null;\n\t\t}\n\t\tvar className = (0, _classnames2['default'])('Select', this.props.className, {\n\t\t\t'Select--multi': this.props.multi,\n\t\t\t'Select--single': !this.props.multi,\n\t\t\t'is-disabled': this.props.disabled,\n\t\t\t'is-focused': this.state.isFocused,\n\t\t\t'is-loading': this.props.isLoading,\n\t\t\t'is-open': isOpen,\n\t\t\t'is-pseudo-focused': this.state.isPseudoFocused,\n\t\t\t'is-searchable': this.props.searchable,\n\t\t\t'has-value': valueArray.length\n\t\t});\n\n\t\tvar removeMessage = null;\n\t\tif (this.props.multi && !this.props.disabled && valueArray.length && !this.state.inputValue && this.state.isFocused && this.props.backspaceRemoves) {\n\t\t\tremoveMessage = _react2['default'].createElement(\n\t\t\t\t'span',\n\t\t\t\t{ id: this._instancePrefix + '-backspace-remove-message', className: 'Select-aria-only', 'aria-live': 'assertive' },\n\t\t\t\tthis.props.backspaceToRemoveMessage.replace('{label}', valueArray[valueArray.length - 1][this.props.labelKey])\n\t\t\t);\n\t\t}\n\n\t\treturn _react2['default'].createElement(\n\t\t\t'div',\n\t\t\t{ ref: function (ref) {\n\t\t\t\t\treturn _this11.wrapper = ref;\n\t\t\t\t},\n\t\t\t\tclassName: className,\n\t\t\t\tstyle: this.props.wrapperStyle },\n\t\t\tthis.renderHiddenField(valueArray),\n\t\t\t_react2['default'].createElement(\n\t\t\t\t'div',\n\t\t\t\t{ ref: function (ref) {\n\t\t\t\t\t\treturn _this11.control = ref;\n\t\t\t\t\t},\n\t\t\t\t\tclassName: 'Select-control',\n\t\t\t\t\tstyle: this.props.style,\n\t\t\t\t\tonKeyDown: this.handleKeyDown,\n\t\t\t\t\tonMouseDown: this.handleMouseDown,\n\t\t\t\t\tonTouchEnd: this.handleTouchEnd,\n\t\t\t\t\tonTouchStart: this.handleTouchStart,\n\t\t\t\t\tonTouchMove: this.handleTouchMove\n\t\t\t\t},\n\t\t\t\t_react2['default'].createElement(\n\t\t\t\t\t'span',\n\t\t\t\t\t{ className: 'Select-multi-value-wrapper', id: this._instancePrefix + '-value' },\n\t\t\t\t\tthis.renderValue(valueArray, isOpen),\n\t\t\t\t\tthis.renderInput(valueArray, focusedOptionIndex)\n\t\t\t\t),\n\t\t\t\tremoveMessage,\n\t\t\t\tthis.renderLoading(),\n\t\t\t\tthis.renderClear(),\n\t\t\t\tthis.renderArrow()\n\t\t\t),\n\t\t\tisOpen ? this.renderOuter(options, !this.props.multi ? valueArray : null, focusedOption) : null\n\t\t);\n\t}\n\n});\n\nSelect.stripDiacritics = _utilsStripDiacritics2['default'];\n\nexports['default'] = Select;\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}